{"question": "pi = 3.14 r = float(input(\"请输入圆的半径: \")) area = pi * r * r print(\"圆的面积 =\", area)", "answer": "public class Areaofcircle { public static void main(String args[]) { Scanner sc = new Scanner(System.in); double pi = 3.14; double r = sc.nextInt(); double tfor = pi * r * r; System.out.println(\"Area of circle= \" + tfor); } }"}
{"question": "a = int(input(\"请输入整数 a 的值: \")) b = int(input(\"请输入整数 b 的值: \")) pro = a * b print(\"a * b 的结果是:\", pro)", "answer": "public class Product { public static void main(String args[]){ Scanner sc = new Scanner(System.in); System.out.print(\"Enter the value of int a: \"); int a= sc.nextInt(); System.out.print(\"Enter the value of int b: \"); int b= sc.nextInt(); int pro = a*b; System.out.println(\"The value of a*b is:\" + pro); } }"}
{"question": "a = int(input(\"请输入整数 a 的值: \")) b = int(input(\"请输入整数 b 的值: \")) sum_ = a + b print(\"a 和 b 的和 =\", sum_)", "answer": "public class sumoftwonumbers { public static void main(String args[]) { Scanner sc = new Scanner(System.in); System.out.println(\"Enter the value of int a:\"); int a = sc.nextInt(); System.out.println(\"Enter the value of int B:\"); int b = sc.nextInt(); int sum = a + b; System.out.println(\"Value of a and b= \" + sum); } }"}
{"question": "class Array: def __init__(self, capacity): self.data = [None] * capacity self.size = 0", "answer": "public Array(int capacity) { data = (E[]) new Object[capacity]; size = 0; }"}
{"question": "class Array: def __init__(self, capacity): self.data = [None] * capacity self.size = 0 def resize(self, new_capacity): new_data = [None] * new_capacity for i in range(self.size): new_data[i] = self.data[i] self.data = new_data def add(self, index, e): if index < 0 or index > self.size: raise ValueError(\"Add failed. Require 0 <= index <= size.\") if self.size == len(self.data): self.resize(2 * len(self.data)) for i in range(self.size - 1, index - 1, -1): self.data[i + 1] = self.data[i] self.data[index] = e self.size += 1", "answer": "public void add(int index, E e) { if (index < 0 || index > size) throw new IllegalArgumentException(\"Add failed. Require index >= 0 and index <= size.\"); if (size == data.length) resize(2 * data.length); for (int i = size - 1; i >= index; i--) data[i + 1] = data[i]; data[index] = e; size++; }"}
{"question": "def get(self, index): if index < 0 or index >= self.size: raise ValueError(\"Get failed. Index is illegal.\") return self.data[index]", "answer": "public E get(int index) { if (index < 0 || index >= size) throw new IllegalArgumentException(\"Get failed. Index is illegal.\"); return data[index]; }"}
{"question": "def contains(self, e): for i in range(self.size): if self.data[i] == e: return True return False", "answer": "public boolean contains(E e) { for (int i = 0; i < size; i++) { if (data[i].equals(e)) return true; } return false; }"}
{"question": "def find(self, e): for i in range(self.size): if self.data[i] == e: return i return -1", "answer": "public int find(E e) { for (int i = 0; i < size; i++) { if (data[i].equals(e)) return i; } return -1; }"}
{"question": "def __str__(self): res = [] res.append(f\"Queue: size = {self.size} , capacity = {self.get_capacity()}\\n\") res.append(\"front [\") i = self.front while i != self.tail: res.append(str(self.data[i])) i = (i + 1) % len(self.data) if i != self.tail: res.append(\", \") res.append(\"] tail\") return \"\".join(res)", "answer": "public String toString() { StringBuilder res = new StringBuilder(); res.append(String.format(\"Queue: size = %d , capacity = %d\\n\", size, getCapacity())); res.append(\"front [\"); for (int i = front; i != tail; i = (i + 1) % data.length) { res.append(data[i]); if ((i + 1) % data.length != tail) res.append(\", \"); } res.append(\"] tail\"); return res.toString(); }"}
{"question": "def resize(self, new_capacity): new_data = [None] * (new_capacity + 1) for i in range(self.size): new_data[i] = self.data[(i + self.front) % len(self.data)] self.data = new_data self.front = 0 self.tail = self.size", "answer": "private void resize(int newCapacity) { E[] newData = (E[]) new Object[newCapacity + 1]; for (int i = 0; i < size; i++) newData[i] = data[(i + front) % data.length]; data = newData; front = 0; tail = size; }"}
{"question": "def free(): process = psutil.Process(os.getpid()) print(psutil.virtual_memory().available) print(psutil.virtual_memory().total)", "answer": "public class Application { public static void free() { Runtime runtime = Runtime.getRuntime(); System.out.println(runtime.freeMemory()); System.out.println(runtime.totalMemory()); } }"}
{"question": "def in_order(root): if root is not None: in_order(root.left) print(root.data, end=\" \") in_order(root.right)", "answer": "public static void inOrder(MiddleSearch root) { if (root != null) { inOrder(root.left); System.out.print(root.data + \" \"); inOrder(root.right); } }"}
{"question": "class MiddleSearch: def __init__(self, data): self.data = data self.left = None self.right = None def insert(self, node, value): if value < node.data: if node.left is None: node.left = MiddleSearch(value) else: self.insert(node.left, value) else: if node.right is None: node.right = MiddleSearch(value) else: self.insert(node.right, value) def in_order(root): if root is not None: in_order(root.left) print(root.data, end=\" \") in_order(root.right) if __name__ == \"__main__\": data = [3, 14, 7, 1, 1, 8] node_tree_search = MiddleSearch(data[0]) for value in data[1:]: node_tree_search.insert(node_tree_search, value) print(\"中序遍历\") in_order(node_tree_search)", "answer": "public static void main(String[] args) { int[] data = { 3, 14, 7, 1, 1, 8 }; MiddleSearch nodeTreeSearch = new MiddleSearch(data[0]); for (int i = 1; i < data.length; i++) { nodeTreeSearch.insert(nodeTreeSearch, data[i]); } System.out.println(\"中序遍历\"); inOrder(nodeTreeSearch); }"}
{"question": "class Constant: LOG_INFO = \"!!!==== {}\" LOG_WARN = \"@@@===={}\" LOG_ERROR = \"###===={}\" USER_STATE = 1 class Redis: TOKEN_IDEMPOTENT = \"token_idempotent\" TOKEN_LOGIN = \"token_login\" TOKEN_PREFIX = \"token_\"", "answer": "public interface Constant { String LOG_INFO = \"!!!==== {}\"; String LOG_WARN = \"@@@===={}\"; String LOG_ERROR = \"###===={}\"; Integer USER_STATE = 1; interface Redis { String TOKEN_IDEMPOTENT = \"token_idempotent\"; String TOKEN_LOGIN = \"token_login\"; String TOKEN_PREFIX = \"token_\"; } }"}
{"question": "def key_generator(): def generate(target, method, *params): key = [] key.append(target.__class__.__name__) key.append(method.__name__) for param in params: key.append(str(param)) return \"_\".join(key) return generate", "answer": "public KeyGenerator keyGenerator() { return new KeyGenerator() { @Override public Object generate(Object target, Method method, Object... params) { List<String> key = new ArrayList<>(); key.add(target.getClass().getName()); key.add(method.getName()); for (Object obj : params) { key.add(obj.toString()); } return String.join(\"_\", key); } }; }"}
{"question": "class S_Enum(Enum): MONDAY = (\"MONDAY\", None) TUESDAY = (\"TUESDAY\", None) MONDAY1 = (\"MONDAY1\", \"星期一\") TUESDAY1 = (\"TUESDAY1\", \"星期二\") def __init__(self, key, name): self._key = key self.name_value = name def __str__(self): return self.name_value if self.name_value else self._key def get_name(self): return self.name_value @staticmethod def get_or(): print(\"static\")", "answer": "public enum S_Enum { MONDAY, TUESDAY, MONDAY1(\"星期一\"), TUESDAY1(\"星期二\"); private String name; private S_Enum() { } private S_Enum(String name) { this.name = name; } @Override public String toString() { return name; } public String getName() { return name; } public static void getOr() { System.out.println(\"static\"); } }"}
{"question": "class IParent: richer = 500000 @staticmethod def name(): print(\"iparent static func\") def name1(self): print(\"iparent default name1\")", "answer": "public interface IParent { int richer = 500000; static void name() { System.out.println(\"iparent static func\"); } default void name1() { System.out.println(\"iparent default name1\"); } }"}
{"question": "class ISon(IParent): richer = 50 @staticmethod def name(): print(\"ison static func\") def name1(self): print(\"ison default name1\")", "answer": "public class ISon implements IParent { int richer = 50; public static void name() { System.out.println(\"ison static func\"); } @Override public void name1() { System.out.println(\"ison default name1\"); } }"}
{"question": "class Parent1: boy = 10 def __init__(self): self.richer = 500000 # 实例变量 self.name() self.richer = 1000000 def name(self): print(f\"parent1.richer: {self.richer}\") @staticmethod def name1(): print(\"parent1\")", "answer": "public class Parent1 { public int richer = 500000; public static int boy = 10; public Parent1() { this.name(); richer = 1000000; } public void name() { System.out.println(\"parent1.richer:\" + richer); } public static void name1() { System.out.println(\"parent1\"); } }"}
{"question": "class Son1(Parent1): boy = 1 def __init__(self): super().__init__() self.richer = 500 self.name() self.richer = 5000 def name(self): print(f\"son1.richer: {self.richer}\") @staticmethod def name1(): print(\"son1\")", "answer": "public class Son1 extends Parent1 { public int richer = 500; public static int boy = 1; public Son1() { this.name(); richer = 5000; } @Override public void name() { System.out.println(\"son1.richer:\" + richer); } public static void name1() { System.out.println(\"son1\"); } }"}
{"question": "def get_url1(url): try: response = requests.get(url) response.raise_for_status() node = response.json() return node except requests.exceptions.RequestException as e: print(e) return None", "answer": "public static JsonNode getUrl1(String url) { try { httpGet.setUri(URI.create(url)); String response = httpClient.execute(httpGet, httpClientResponseHandler); JsonNode node = mapper.readTree(response); return node; } catch (IOException e) { e.printStackTrace(); } return null; }"}
{"question": "def get_url3(url): try: response = requests.get(url) json_object = response.json() return json_object except requests.exceptions.RequestException as e: print(e) return None", "answer": "public static JSONObject getUrl3(String url) { try { httpGet.setUri(URI.create(url)); String response = httpClient.execute(httpGet, httpClientResponseHandler); JSONObject jsonObject = JSONObject.parseObject(response); return jsonObject; } catch (IOException e) { e.printStackTrace(); } return null; }"}
{"question": "def test(): return 1 if __name__ == \"__main__\": warmup_iterations = 5 measurement_iterations = 5 for _ in range(warmup_iterations): test() total_time = timeit.timeit(\"test()\", globals=globals(), number=measurement_iterations) print(f\"Total time for {measurement_iterations} iterations: {total_time:.6f} seconds\") print(f\"Average time per iteration: {total_time / measurement_iterations:.6f} seconds\")", "answer": "public class Jmh { @Benchmark @Warmup(iterations = 1, time = 3) @Fork(5) @BenchmarkMode(Mode.Throughput) @Measurement(iterations = 10, time = 3) public int test() { return 1; } public static void main(String[] args) { Options options = new OptionsBuilder() .include(Jmh.class.getSimpleName()) .forks(1) .warmupIterations(5) .measurementIterations(5) .build(); try { new Runner(options).run(); } catch (RunnerException e) { e.printStackTrace(); } } }"}
{"question": "def add(a, b): hour = 24 m1 = hour * 60 * 60 * 1000 m2 = hour * 60 * 60 * 1000 * 1000 print(m2 & 0xFFFFFFFF) print(m2 // m1) return 1 + 1", "answer": "public static int add(int a, int b) { int hour = 24; long m1 = hour * 60 * 60 * 1000; long m2 = hour * 60 * 60 * 1000 * 1000; System.out.println((int) m2); System.out.println(m2 / m1); return 1 + 1; }"}
{"question": "def test1(): i = 10 j = i / 0.0 print(j) m = 10.0 n = m / 0.0 print(n)", "answer": "public static void test1() { int i = 10; double j = i / 0.0; System.out.println(j); double m = 10.0; double n = m / 0.0; System.out.println(n); }"}
{"question": "def test2(): a = 10 b = a a += 1 c = 20 c += 1 d = c print(b + d)", "answer": "public static void test2() { int a = 10; int b = a++; int c = 20; int d = ++c; System.out.println(b + d); }"}
{"question": "def main(): b = None for i in range(20): b = bytearray(1 * 1024 * 1024) print(b) if __name__ == \"__main__\": main()", "answer": "public class MyNewGC { public static void main(String[] args) { byte[] b = null; for (int i = 0; i < 20; i++) { b = new byte[1 * 1024 * 1024]; } System.out.println(b); } }"}
{"question": "UNIT_M = 1024 * 1024 def main(): b = bytearray(7 * UNIT_M) print(b) if __name__ == \"__main__\": main()", "answer": "public class MyTenured01 { public static final int UNIT_M = 1024 * 1024; public static void main(String[] args) { byte[] b = new byte[7 * UNIT_M]; System.out.println(b); } }"}
{"question": "UNIT_M = 1024 * 1024 def main(): b = bytearray(1 * UNIT_M) for i in range(1): bc = bytearray(2 * UNIT_M) print(bc) print(b) if __name__ == \"__main__\": main()", "answer": "public class MyTenured02 { public static final int UNIT_M = 1024 * 1024; public static void main(String[] args) { byte[] b = new byte[1 * UNIT_M]; for (int i = 0; i < 1; i++) { byte[] bc = new byte[2 * UNIT_M]; System.out.println(bc); } System.out.println(b); } }"}
{"question": "def convert_locale_file(source_path, suffix): with open(source_path, \"rb\") as input_stream: return covert_common_by_stream(input_stream, suffix)", "answer": "public static InputStream convertLocaleFile(String sourcePath, String suffix) throws Exception { File inputFile = new File(sourcePath); InputStream inputStream = new FileInputStream(inputFile); return covertCommonByStream(inputStream, suffix); }"}
{"question": "def convert_net_file(net_file_url, suffix): response = requests.get(net_file_url, stream=True) if response.status_code == 200: return covert_common_by_stream(response.raw, suffix) return None", "answer": "public static InputStream convertNetFile(String netFileUrl, String suffix) throws Exception { URL url = new URL(netFileUrl); URLConnection urlconn = url.openConnection(); urlconn.connect(); HttpURLConnection httpconn = (HttpURLConnection) urlconn; int httpResult = httpconn.getResponseCode(); if (httpResult == HttpURLConnection.HTTP_OK) { InputStream inputStream = urlconn.getInputStream(); return covertCommonByStream(inputStream, suffix); } return null; }"}
{"question": "def covert_common_by_stream(input_stream, suffix): out = BytesIO() connection = openoffice_connect() source_format = get_format_by_suffix(suffix) target_format = get_format_by_suffix(DEFAULT_SUFFIX) converter = StreamOpenOfficeDocumentConverter(connection) converter.convert(input_stream, source_format, out, target_format) connection.disconnect() out.seek(0) return out", "answer": "public static InputStream covertCommonByStream(InputStream inputStream, String suffix) throws Exception { ByteArrayOutputStream out = new ByteArrayOutputStream(); OpenOfficeConnection connection = new SocketOpenOfficeConnection(OPENOFFICE_PORT); connection.connect(); DocumentConverter converter = new StreamOpenOfficeDocumentConverter(connection); DefaultDocumentFormatRegistry formatReg = new DefaultDocumentFormatRegistry(); DocumentFormat targetFormat = formatReg.getFormatByFileExtension(DEFAULT_SUFFIX); DocumentFormat sourceFormat = formatReg.getFormatByFileExtension(suffix); converter.convert(inputStream, sourceFormat, out, targetFormat); connection.disconnect(); return outputStreamConvertInputStream(out); }"}
{"question": "app = Flask(__name__) @app.route('/') def index(): return \"Hello, World!\" def run_app(port): app.run(port=port) if __name__ == \"__main__\": Thread(target=run_app, args=(8080,)).start() Thread(target=run_app, args=(8081,)).start()", "answer": "public class MultiPorts { @Bean public ServletWebServerFactory servletContainer() { TomcatServletWebServerFactory factory = new TomcatServletWebServerFactory(); factory.setPort(8080); Connector additionalConnector = new Connector(\"org.apache.coyote.http11.Http11NioProtocol\"); additionalConnector.setPort(8081); factory.addAdditionalTomcatConnectors(additionalConnector); return factory; } }"}
{"question": "class Pojo: def __init__(self): self._username = None def set_username(self, username): self._username = username def get_username(self): return self._username class ProxyPojo: def __init__(self, pojo): self._pojo = pojo def set_username(self, username): print(\"Proxy before set_username\") self._pojo.set_username(username) print(\"Proxy after set_username\") def get_username(self): print(\"Proxy before get_username\") value = self._pojo.get_username() print(\"Proxy after get_username\") return value if __name__ == \"__main__\": pojo = Pojo() proxy = ProxyPojo(pojo) proxy.set_username(\"test1111\") print(\"33333333\" + proxy.get_username())", "answer": "public class S_ProxyCglib { public static void main(String[] args) { Enhancer e1 = new Enhancer(); e1.setSuperclass(Pojo.class); S_ProxyCglicClient t1 = new S_ProxyCglicClient(new Pojo()); e1.setCallback(t1); Pojo p = (Pojo) e1.create(); p.setUsername(\"test1111\"); System.out.println(\"33333333\" + p.getUsername()); } }"}
{"question": "def run(): try: sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) sock.bind(('0.0.0.0', 12345)) buf_size = 60 * 1024 + 14 while True: data, addr = sock.recvfrom(buf_size) unit = parse_pack(data) process_unit(unit) except Exception as e: print(e)", "answer": "public void run() { try { byte[] buf = new byte[60 * 1024 + 14]; DatagramPacket pack = new DatagramPacket(buf, buf.length); while (true) { sock.receive(pack); FrameUnit unit = parsePack(pack); processUnit(unit); } } catch (Exception e) { e.printStackTrace(); } }"}
{"question": "def process_unit(unit): if not map: map[unit.get_index()] = unit else: old_time = next(iter(map.values())).get_timestamp() curr_time = unit.get_timestamp() if old_time == curr_time: map[unit.get_index()] = unit elif curr_time > old_time: map.clear() map[unit.get_index()] = unit process_frame(True)", "answer": "private void processUnit(FrameUnit unit) { if (map.isEmpty()) { map.put(unit.getIndex(), unit); } else { long oldTime = map.values().iterator().next().getTimestamp(); long currTime = unit.getTimestamp(); if (oldTime == currTime) { map.put(unit.getIndex(), unit); } else if (currTime > oldTime) { map.clear(); map.put(unit.getIndex(), unit); } else { } } processFrame(true); }"}
{"question": "class StudentUI: def __init__(self): pass class ReceiverThread(threading.Thread): def __init__(self, ui): super().__init__() self.ui = ui def run(self): pass if __name__ == \"__main__\": ui = StudentUI() receiver_thread = ReceiverThread(ui) receiver_thread.start()", "answer": "public class StudentMain { public static void main(String[] args) { StudentUI ui = new StudentUI(); new ReceiverThread(ui).start(); } }"}
{"question": "def on_closing(): root.destroy() root = tk.Tk() root.title(\"学生端\") root.geometry(\"1366x768\") lbl = Label(root) lbl.place(x=0, y=0, width=1366, height=768) root.protocol(\"WM_DELETE_WINDOW\", on_closing) root.mainloop()", "answer": "private void init() { this.setTitle(\"学生端\"); this.setLayout(null); this.setBounds(0, 0, 1366, 768); lbl = new JLabel(); lbl.setBounds(0, 0, 1366, 768); this.add(lbl); this.addWindowListener(new WindowAdapter() { @Override public void windowClosing(WindowEvent e) { System.exit(-1); } }); }"}
{"question": "def update_ui(frame_data, lbl): try: bais = io.BytesIO(frame_data) image = Image.open(bais) icon = ImageTk.PhotoImage(image) lbl.config(image=icon) lbl.image = icon except Exception as e: print(e)", "answer": "public void updateUI(byte[] frameData) { try { ByteArrayInputStream bais = new ByteArrayInputStream(frameData); BufferedImage image = ImageIO.read(bais); ImageIcon icon = new ImageIcon(image); lbl.setIcon(icon); } catch (Exception e) { e.printStackTrace(); } }"}
{"question": "def int2bytearr(i): return [ (i >> 0) & 0xFF, (i >> 8) & 0xFF, (i >> 16) & 0xFF, (i >> 24) & 0xFF ]", "answer": "public static byte[] int2ByteArr(int i) { byte[] bytes = new byte[4]; bytes[0] = (byte) (i >> 0); bytes[1] = (byte) (i >> 8); bytes[2] = (byte) (i >> 16); bytes[3] = (byte) (i >> 24); return bytes; }"}
{"question": "def bytearr2long(arr): return ((arr[0] & 0xFF) << 0) | \\ ((arr[1] & 0xFF) << 8) | \\ ((arr[2] & 0xFF) << 16) | \\ ((arr[3] & 0xFF) << 24) | \\ ((arr[4] & 0xFF) << 32) | \\ ((arr[5] & 0xFF) << 40) | \\ ((arr[6] & 0xFF) << 48) | \\ ((arr[7] & 0xFF) << 56)", "answer": "public static long byteArr2Long(byte[] arr) { return ((arr[0] & 0xFFL) << 0) | ((arr[1] & 0xFFL) << 8) | ((arr[2] & 0xFFL) << 16) | ((arr[3] & 0xFFL) << 24) | ((arr[4] & 0xFFL) << 32) | ((arr[5] & 0xFFL) << 40) | ((arr[6] & 0xFFL) << 48) | ((arr[7] & 0xFFL) << 56); }"}
{"question": "class FrameUnit: def __init__(self, timestamp=0, count=0, index=0, length=0, unit_data=None): self.timestamp = timestamp self.count = count self.index = index self.length = length self.unit_data = unit_data if unit_data is not None else b''", "answer": "public class FrameUnit { private long timestamp; private int count; private int index; private int length; private byte[] unitData; }"}
{"question": "class Message(ABC): SERVER_TO_CLIENT_REFRESHFRIENDLIST = 1 SERVER_TO_CLIENT_CHATS = 2 SERVER_TO_CLIENT_CHAT = 3 CLIENT_TO_SERVER_REFRESHFRIENDLIST = 4 CLIENT_TO_SERVER_CHATS = 5 CLIENT_TO_SERVER_CHAT = 6 @abstractmethod def get_message_type(self): pass", "answer": "public abstract class Message { public static final int SERVER_TO_CLIENT_REFRESHFRIENDLIST = 1; public static final int SERVER_TO_CLIENT_CHATS = 2; public static final int SERVER_TO_CLIENT_CHAT = 3; public static final int CLIENT_TO_SERVER_REFRESHFRIENDLIST = 4; public static final int CLIENT_TO_SERVER_CHATS = 5; public static final int CLIENT_TO_SERVER_CHAT = 6; public abstract int getMessageType(); }"}
{"question": "class QQUtil: @staticmethod def get_remote_address_string(sock: socket.socket) -> str: ip = sock.getpeername()[0] port = sock.getpeername()[1] return f\"{ip}:{port}\" @staticmethod def get_remote_address_bytes(sock: socket.socket) -> bytes: return QQUtil.get_remote_address_string(sock).encode()", "answer": "public class QQUtil { public static String getRemoteAddressString(Socket sock) { String ip = sock.getInetAddress().getHostAddress(); int port = sock.getPort(); return ip + \":\" + port; } public static byte[] getRemoteAddressBytes(Socket sock) { return getRemoteAddressString(sock).getBytes(); } }"}
{"question": "class ServerChatsMessage(Message): def __init__(self, sender_addr: str = \"\", raw_message: bytes = b\"\"): self.sender_addr = sender_addr self.raw_message = raw_message def get_message_type(self) -> int: return Message.SERVER_TO_CLIENT_CHATS", "answer": "public class ServerChatsMessage extends Message { private String senderAddr; private byte[] rawMessage; @Override public int getMessageType() { return SERVER_TO_CLIENT_CHATS; } }"}
{"question": "class ServerRefreshFriendListMessage(Message): def get_message_type(self) -> int: return Message.SERVER_TO_CLIENT_REFRESHFRIENDLIST", "answer": "public class ServerRefreshFriendListMessage extends Message { @Override public int getMessageType() { return SERVER_TO_CLIENT_REFRESHFRIENDLIST; } }"}
{"question": "logger = logging.getLogger(__name__) r = redis.Redis() class DelayJob: def __init__(self, name, delay_date): self.name = name self.delay_date = delay_date def get_this_bucket_name() -> str: return \"delay_queue_bucket\" def add_delay_job(job: DelayJob): logger.info(f\"添加延迟任务: {json.dumps(job.__dict__)}\") this_bucket_name = get_this_bucket_name() r.zadd(this_bucket_name, {json.dumps(job.__dict__): job.delay_date.timestamp()})", "answer": "public void addDelayJob(DelayJob job) { log.info(\"添加延迟任务:{}\", JSON.toJSONString(job)); String thisBucketName = getThisBucketName(); BoundZSetOperations<Object, Object> bucket = getBucket(thisBucketName); bucket.add(job, job.getDelayDate()); }"}
{"question": "r = redis.Redis() bucket_names = [\"delay_queue_bucket_0\", \"delay_queue_bucket_1\"] class DelayJob: def __init__(self, name, delay_date): self.name = name self.delay_date = delay_date def get_bucket(name: str): return name def get_first_delay_time(index: int) -> Optional[DelayJob]: name = bucket_names[index] bucket = get_bucket(name) items = r.zrange(bucket, 0, 0, withscores=True) if not items: return None value, score = items[0] try: data = json.loads(value) return DelayJob(data[\"name\"], data[\"delay_date\"]) except Exception: return None", "answer": "public DelayJob getFirstDelayTime(Integer index) { String name = bucketNames.get(index); BoundZSetOperations<Object, Object> bucket = getBucket(name); Set<TypedTuple<Object>> set = bucket.rangeWithScores(0, 1); if (CollectionUtils.isEmpty(set)) { return null; } TypedTuple<Object> typedTuple = set.stream().findFirst().get(); Object value = typedTuple.getValue(); if (value instanceof DelayJob) { return (DelayJob) value; } return null; }"}
{"question": "def remove_delay_time(index: int, delay_job): name = bucket_names[index] bucket = get_bucket(name) bucket.remove(delay_job)", "answer": "public void removeDelayTime(Integer index, DelayJob delayJob) { String name = bucketNames.get(index); BoundZSetOperations<Object, Object> bucket = getBucket(name); bucket.remove(delayJob); }"}
{"question": "def on_application_event(self, context_refreshed_event): executor_service = ThreadPoolExecutor( max_workers=self.length ) for i in range(self.length): executor_service.submit(DelayJobHandler(self.delayBucket, self.jobPool, self.readyQueue, i))", "answer": "public void onApplicationEvent(ContextRefreshedEvent contextRefreshedEvent) { ExecutorService executorService = new ThreadPoolExecutor( length, length, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue<Runnable>() ); for (int i = 0; i < length; i++) { executorService.execute(new DelayJobHandler(delayBucket, jobPool, readyQueue, i)); } }"}
{"question": "logger = logging.getLogger(__name__) r = redis.Redis(host='localhost', port=6379, db=0) def get_queue(topic): return topic def push_job(delay_job): logger.info(\"执行队列添加任务: %s\", delay_job) queue_name = get_queue(delay_job['topic']) r.lpush(queue_name, pickle.dumps(delay_job))", "answer": "public void pushJob(DelayJob delayJob) { log.info(\"执行队列添加任务:{}\", delayJob); BoundListOperations<Object, Object> listOperations = getQueue(delayJob.getTopic()); listOperations.leftPush(delayJob); }"}
{"question": "logger = logging.getLogger(__name__) r = redis.Redis(host='localhost', port=6379, db=0) def get_queue(topic): return topic def pop_job(topic): queue_name = get_queue(topic) data = r.lpop(queue_name) if data is not None: delay_job = pickle.loads(data) logger.info(\"执行队列取出任务: %s\", delay_job) return delay_job return None", "answer": "public DelayJob popJob(String topic) { BoundListOperations<Object, Object> listOperations = getQueue(topic); Object o = listOperations.leftPop(); if (o instanceof DelayJob) { log.info(\"执行队列取出任务:{}\", JSON.toJSONString((DelayJob) o)); return (DelayJob) o; } return null; }"}
{"question": "def redis_bloom_filter(): bloom_filter = BloomFilter(capacity=10000) bloom_filter = BloomFilter(capacity=10000, error_rate=0.01) bloom_filter.add(11) print(112 in bloom_filter) redis_bloom_filter()", "answer": "public class RedisBloomFilter { public void name() { BloomFilter<Integer> bloomFilter = BloomFilter.create(Funnels.integerFunnel(), 10000); BloomFilter.create(Funnels.integerFunnel(), 10000, 0.01); bloomFilter.put(11); System.out.println(bloomFilter.mightContain(112)); } }"}
{"question": "SCRIPT_DELETE = \"\"\" if redis.call('get', KEYS[1]) == ARGV[1] then return redis.call('del', KEYS[1]) else return 0 end \"\"\" SCRIPT_SETNX = \"\"\" if redis.call('setnx', KEYS[1], ARGV[1]) == 1 then redis.call('pexpire', KEYS[1], ARGV[2]) return 1 else return 0 end \"\"\" SCRIPT_EXTEND_EXPIRE_TIME = \"\"\" if redis.call('get', KEYS[1]) == ARGV[1] then redis.call('pexpire', KEYS[1], ARGV[2]) return 1 else return 0 end \"\"\"", "answer": "public interface RedisScripts { String SCRIPT_DELETE = \"if redis.call('get',KEYS[1]) == ARGV[1] then return redis.call('del',KEYS[1]) else return 0 end\"; String SCRIPT_SETNX = \"if redis.call('setnx',KEYS[1],ARGV[1]) == 1 then redis.call('pexpire',KEYS[1],ARGV[2]) return 1 else return 0 end\"; String SCRIPT_EXTEND_EXPIRE_TIME = \"if redis.call('get',KEYS[1]) == ARGV[1] then redis.call('pexpire',KEYS[1],ARGV[2]) return 1 else return 0 end \"; }"}
{"question": "def get_job(job_id): o = get_pool().get(job_id) if isinstance(o, TaskJob): return o return None", "answer": "public TaskJob getJob(Long jobId) { Object o = getPool().get(jobId); if (o instanceof TaskJob) { return (TaskJob) o; } return null; }"}
{"question": "class TaskJobStatus(Enum): READY = \"可执行状态\" DELAY = \"不可执行状态，等待时钟周期\" RESERVED = \"已被消费者读取,但没有完成消费\" DELETED = \"已被消费完成或者已被删除\"", "answer": "public enum TaskJobStatus { READY(\"可执行状态\"), DELAY(\"不可执行状态，等待时钟周期\"), RESERVED(\"已被消费者读取,但没有完成消费\"), DELETED(\"已被消费完成或者已被删除\"); private String msg; private TaskJobStatus(String msg) { this.msg = msg; } }"}
{"question": "def showdown3(): pid_file = \"/app/app.pid\" process = subprocess.Popen([\"java\", \"-jar\", \"MyShutDown.jar\"]) with open(pid_file, \"w\") as f: f.write(str(process.pid)) process.wait()", "answer": "public void showdown3() { SpringApplication application = new SpringApplication(MyShutDown.class); application.addListeners(new ApplicationPidFileWriter(\"/app/app.pid\")); application.run(); }"}
{"question": "class MySpiContext: @staticmethod def main(): for entry_point in pkg_resources.iter_entry_points('my_spi'): spi_class = entry_point.load() spi_instance = spi_class() print(f\"{spi_instance.get_name()} 准备执行\") spi_instance.handle() print(\"执行结束\")", "answer": "public class MySpiContext { public static void main(String[] args) { ServiceLoader<MySpi> load = ServiceLoader.load(MySpi.class); Iterator<MySpi> iterator = load.iterator(); while (iterator.hasNext()) { MySpi next = iterator.next(); System.out.println(next.getName() + \" 准备执行\"); next.handle(); } System.out.println(\"执行结束\"); } }"}
{"question": "class MySpiImpl: def get_name(self): return \"One\" def handle(self): print(f\"{self.get_name()}执行\")", "answer": "public class MySpiImpl implements MySpi { @Override public String getName() { return \"One\"; } @Override public void handle() { System.out.println(getName() + \"执行\"); } }"}
{"question": "class Application: @staticmethod def main(args=None): if args is None: args = [] subprocess.run([\"java\", \"-jar\", \"Application.jar\"] + args) @staticmethod def free(): process = psutil.Process(os.getpid()) print(psutil.virtual_memory().available) print(psutil.virtual_memory().total)", "answer": "public class Application { public static void main(String[] args) { SpringApplication.run(Application.class, args); } public static void free() { Runtime runtime = Runtime.getRuntime(); System.out.println(runtime.freeMemory()); System.out.println(runtime.totalMemory()); } }"}
{"question": "class AdapterExtend(TFCardImpl, SDCard): def read(self) -> str: print(\"adapter read tf card\") return self.read_tf() def write(self, msg: str): print(\"adapter write tf card\") self.write_tf(msg)", "answer": "public class AdapterExtend extends TFCardImpl implements SDCard { @Override public String read() { System.out.println(\"adapter read tf card \"); return readTF(); } @Override public void write(String msg) { System.out.println(\"adapter write tf card\"); writeTF(msg); } }"}
{"question": "class AdapterObject(SDCard): def __init__(self, tf_card: TFCard): self.tf_card = tf_card def read(self) -> str: print(\"adapter read tf card\") return self.tf_card.read_tf() def write(self, msg: str): print(\"adapter write tf card\") self.tf_card.write_tf(msg)", "answer": "public class AdapterObject implements SDCard { private TFCard tfCard; public AdapterObject(TFCard tfCard) { this.tfCard = tfCard; } @Override public String read() { System.out.println(\"adapter read tf card \"); return this.tfCard.readTF(); } @Override public void write(String msg) { System.out.println(\"adapter write tf card\"); this.tfCard.writeTF(msg); } }"}
{"question": "def main(): context = Computer() sd_card = SDCardImpl() print(context.read(sd_card)) print(\"------------\") adapter = AdapterExtend() print(context.read(adapter)) print(\"------------\") tf_card = TFCardImpl() adapter_object = AdapterObject(tf_card) print(context.read(adapter_object)) if __name__ == \"__main__\": main()", "answer": "public static void main(String[] args) { Computer context = new Computer(); SDCard sdCard = new SDCardImpl(); System.out.println(context.read(sdCard)); System.out.println(\"------------\"); AdapterExtend adapter = new AdapterExtend(); System.out.println(context.read(adapter)); System.out.println(\"------------\"); TFCard tfCard = new TFCardImpl(); AdapterObject adapterObject = new AdapterObject(tfCard); System.out.println(context.read(adapterObject)); }"}
{"question": "class SDCardImpl(SDCard): def read(self) -> str: return \"SDCard read a msg :hello word SD\" def write(self, msg: str): print(f\"SDCard write msg: {msg}\")", "answer": "public class SDCardImpl implements SDCard { @Override public String read() { return \"SDCard read a msg :hello word SD\"; } @Override public void write(String msg) { System.out.println(\"SDCard write msg:\" + msg); } }"}
{"question": "class TFCardImpl(TFCard): def read_tf(self) -> str: msg = \"tf card read msg : hello word tf card\" return msg def write_tf(self, msg: str): print(f\"tf card write a msg : {msg}\")", "answer": "public class TFCardImpl implements TFCard { @Override public String readTF() { String msg = \"tf card read msg : hello word tf card\"; return msg; } @Override public void writeTF(String msg) { System.out.println(\"tf card write a msg : \" + msg); } }"}
{"question": "class CarGift(Gift): def __init__(self, gift: 'GiftSend'): self.gift_send = gift def send(self): self.gift_send.price()", "answer": "public class CarGift extends Gift { public CarGift(GiftSend gift) { this.giftSend = gift; } @Override public void send() { this.giftSend.price(); } }"}
{"question": "class FlowerGift(Gift): def __init__(self, gift: 'GiftSend'): self.gift_send = gift def send(self): self.gift_send.price()", "answer": "public class FlowerGift extends Gift { public FlowerGift(GiftSend gift) { this.giftSend = gift; } @Override public void send() { this.giftSend.price(); } }"}
{"question": "class Gift(ABC): def __init__(self, gift_send: 'GiftSend' = None): self.gift_send = gift_send def get_gift_send(self) -> 'GiftSend': return self.gift_send def set_gift_send(self, gift_send: 'GiftSend'): self.gift_send = gift_send @abstractmethod def send(self): pass", "answer": "public abstract class Gift { GiftSend giftSend; public GiftSend getGiftSend() { return giftSend; } public void setGiftSend(GiftSend giftSend) { this.giftSend = giftSend; } public abstract void send(); }"}
{"question": "class HeavenHandler: def build(self, builder: 'HeavenBuilder') -> 'StrollSkyJiuGe': builder.name() builder.author() builder.people() return builder.build()", "answer": "public class HeavenHandler { public StrollSkyJiuGe build(HeavenBuilder builder) { builder.name(); builder.author(); builder.people(); return builder.build(); } }"}
{"question": "class HubeiHeaven(HeavenBuilder): def __init__(self): self.build = StrollSkyJiuGe() def name(self): self.build.set_name(\"天行九歌\") def author(self): self.build.set_author(\"湖北-玄机\") def people(self): self.build.set_people([\"大叔\", \"二叔\", \"天明\", \"高月\"])", "answer": "public class HubeiHeaven implements HeavenBuilder { private StrollSkyJiuGe build = new StrollSkyJiuGe(); @Override public void name() { build.setName(\"天行九歌\"); } @Override public void author() { build.setAuthor(\"湖北-玄机\"); } @Override public void people() { build.setPeople(Arrays.asList(\"大叔\", \"二叔\", \"天明\", \"高月\")); } }"}
{"question": "def handler_msg(self, t: 'NeedHandler'): if self.identify == t.get_type(): self.result(t) else: if hasattr(self, 'next_one') and self.next_one is not None: self.next_one.handler_msg(t) else: print(\"什么都没做...\")", "answer": "public final void handlerMsg(NeedHandler t) { if (this.identify == t.getType()) { this.result(t); } else { if (this.nextOne != null) { this.nextOne.handlerMsg(t); } else { System.out.println(\"什么都没做...\"); } } }"}
{"question": "class NeedHandler: def __init__(self): self.type = 1 def get_type(self) -> int: return self.type", "answer": "public class NeedHandler { private int type = 1; public int getType() { return type; } }"}
{"question": "class CartoonCommand(Command): def __init__(self, young_man: 'YoungMan'): super().__init__(young_man) def enjoy(self): self.get_young_man().enjoy_cartoon()", "answer": "public class CartoonCommand extends Command { public CartoonCommand(YoungMan youngMan) { super(youngMan); } @Override public void enjoy() { this.getYoungMan().enjoyCartoon(); } }"}
{"question": "class ContextCommand: def __init__(self): self.commands: List[Command] = [] def set_command(self, command: 'Command'): self.commands.append(command) def remove_command(self, command: 'Command'): self.commands.remove(command) def enjoy(self): for command in self.commands: command.enjoy()", "answer": "public class ContextCommand { private List<Command> commands = new ArrayList<Command>(); public void setCommand(Command command) { commands.add(command); } public void removeCommand(Command command) { commands.remove(command); } public void enjoy() { for (Command command : commands) { command.enjoy(); } } }"}
{"question": "class TravelCommand(Command): def __init__(self, young_man: 'YoungMan'): super().__init__(young_man) def enjoy(self): self.get_young_man().enjoy_travel()", "answer": "public class TravelCommand extends Command { public TravelCommand(YoungMan youngMan) { super(youngMan); } @Override public void enjoy() { this.getYoungMan().enjoyTravel(); } }"}
{"question": "class YoungMan: def enjoy_cartoon(self): print(\"看卡通\") def enjoy_travel(self): print(\"旅游\")", "answer": "public class YoungMan { public void enjoyCartoon() { System.out.println(\"看卡通\"); } public void enjoyTravel() { System.out.println(\"旅游\"); } }"}
{"question": "class AnimalDecorator(Animal, ABC): def __init__(self, animal: 'Animal'): self.animal = animal", "answer": "public abstract class AnimalDecorator implements Animal { protected Animal animal; public AnimalDecorator(Animal animal) { this.animal = animal; } }"}
{"question": "class AnimalLand(Animal): def run(self): print(\"能跑\") def show(self): self.run()", "answer": "public class AnimalLand implements Animal { @Override public void run() { System.out.println(\"能跑\"); } @Override public void show() { this.run(); } }"}
{"question": "class FlyAnimalDecorator(AnimalDecorator): def __init__(self, animal: 'Animal'): super().__init__(animal) def show(self): self.animal.show() self.fly() def fly(self): print(\"能飞\")", "answer": "public class FlyAnimalDecorator extends AnimalDecorator { public FlyAnimalDecorator(Animal animal) { super(animal); } @Override public void show() { this.animal.show(); this.fly(); } public void fly() { System.out.println(\"能飞\"); } }"}
{"question": "class WaterAnimalDecorator(AnimalDecorator): def __init__(self, animal: 'Animal'): super().__init__(animal) def show(self): self.animal.show() self.swim() def swim(self): print(\"能游泳\")", "answer": "public class WaterAnimalDecorator extends AnimalDecorator { public WaterAnimalDecorator(Animal animal) { super(animal); } @Override public void show() { this.animal.show(); this.swim(); } public void swim() { System.out.println(\"能游泳\"); } }"}
{"question": "def main(): client = socket.socket(socket.AF_INET, socket.SOCK_STREAM) client.connect(('localhost', 8889)) line = input() client.sendall(line.encode()) data = client.recv(1024) print(data.decode()) client.close() if __name__ == \"__main__\": main()", "answer": "public static void main(String[] args) { AIOClient client = new AIOClient(\"localhost\", 8889); Scanner s = new Scanner(System.in); String line = s.nextLine(); client.write(line); client.read(); s.close(); try { client.channel.close(); } catch (IOException e) { e.printStackTrace(); } }"}
{"question": "async def init(host: str, port: int): try: reader, writer = await asyncio.open_connection(host, port) return reader, writer except Exception as e: print(e) return None, None", "answer": "private void init(String host, int port) { try { channel = AsynchronousSocketChannel.open(); channel.connect(new InetSocketAddress(host, port)); } catch (IOException e) { e.printStackTrace(); } }"}
{"question": "async def write(writer: asyncio.StreamWriter, line: str): data = line.encode('utf-8') writer.write(data) await writer.drain()", "answer": "public void write(String line) { ByteBuffer buffer = ByteBuffer.allocate(1024); buffer.put(line.getBytes(StandardCharsets.UTF_8)); buffer.flip(); channel.write(buffer); }"}
{"question": "async def read(reader: asyncio.StreamReader): try: data = await reader.read(1024) print(data.decode('utf-8')) except Exception as e: print(e)", "answer": "public void read() { ByteBuffer buffer = ByteBuffer.allocate(1024); try { channel.read(buffer).get(); buffer.flip(); System.out.println(new String(buffer.array(), StandardCharsets.UTF_8)); } catch (InterruptedException | ExecutionException e) { e.printStackTrace(); } }"}
{"question": "class Constant: LOG_INFO = \"!!!==== {}\" LOG_WARN = \"@@@===={}\" LOG_ERROR = \"###===={}\" USER_STATE = 1", "answer": "public class Constant { public static final String LOG_INFO = \"!!!==== {}\"; public static final String LOG_WARN = \"@@@===={}\"; public static final String LOG_ERROR = \"###===={}\"; public static final Integer USER_STATE = 1; }"}
{"question": "class TModel(BaseModel): def edit(): try: data = TModel(**request.json) except ValidationError as e: first_error = e.errors()[0] field = first_error['loc'][0] message = first_error['msg'] return jsonify({\"error\": f\"{field} {message}\"}), 400 result = base_service.update(data) return jsonify({\"ok\": result})", "answer": "public Result<?> edit(@RequestBody @Validated(ValidEdits.class) T model, BindingResult bind) { if (bind.hasErrors()) { FieldError error = bind.getFieldError(); assert error != null; return Result.error(error.getField() + error.getDefaultMessage()); } return Result.ok(baseService.update(model)); }"}
{"question": "def has_value(): params = request.json if not params: return jsonify({\"error\": \"参数为空\"}), 400 for key, value in params.items(): if key and key.strip(): if base_service.has_value(key, value): return jsonify({\"ok\": f\"{key}字段值重复\", \"code\": 1}) return jsonify({\"ok\": \"无重复值\", \"code\": 0})", "answer": "public Result<?> hasValue(@RequestBody Map<String, Object> params) { if (null == params || params.isEmpty()) { return Result.error(\"参数为空\"); } for (Map.Entry<String, Object> entry : params.entrySet()) { if (StringUtils.hasText(entry.getKey())) { if (baseService.hasValue(entry.getKey(), entry.getValue())) { return Result.ok(entry.getKey() + \"字段值重复\", 1); } } } return Result.ok(\"无重复值\", 0); }"}
{"question": "def removes(): ids = request.json if not ids: return jsonify({\"error\": \"集合数据为空\"}), 400 base_service.delete_by_ids(ids) return jsonify({\"ok\": True})", "answer": "public Result<?> removes(@RequestBody List<ID> ids) { if (null == ids || ids.isEmpty()) { return Result.error(\"集合数据为空\"); } baseService.deleteByIds(ids); return Result.ok(); }"}
{"question": "class AbstractModel(AbstractPager): serial_version_uid = 1 def __init__(self): self.createtime: datetime = None self.updatetime: datetime = None", "answer": "public class AbstractModel extends AbstractPager { private static final long serialVersionUID = 1L; private Date createtime; private Date updatetime; }"}
{"question": "def has_pager(self): if self.page_index is None or self.page_index <= 0: return False if self.page_size is None or self.page_size <= 0: self.page_size = Constants.PAGE_SIZE return True", "answer": "public boolean hasPager() { if (pageIndex == null || pageIndex <= 0) { return false; } if (pageSize == null || pageSize <= 0) { pageSize = Constants.PAGE_SIZE; } return true; }"}
{"question": "T = TypeVar('T') ID = TypeVar('ID') class AbstractService(Generic[T, ID]): def __init__(self): origin = self.__class__.__orig_bases__[0] args = get_args(origin) self.class_of_t = args[0] self.class_of_id = args[1]", "answer": "public AbstractService() { ParameterizedType parameterizedType = (ParameterizedType) getClass().getGenericSuperclass(); Type typeOfT = parameterizedType.getActualTypeArguments()[0]; Type typeOfID = parameterizedType.getActualTypeArguments()[1]; classOfT = (Class<T>) typeOfT; classOfID = (Class<ID>) typeOfID; }"}
{"question": "def get_entities(page): sort = None if page.page_order and page.page_order.strip(): sort_columns = page.page_order.split(\",\") direction = page.page_direction.upper() if page.page_direction else \"ASC\" sort = [getattr(MyModel, col).asc() if direction == \"ASC\" else getattr(MyModel, col).desc() for col in sort_columns] page_index = max(page.page_index - 1, 0) page_size = page.page_size query = MyModel.query if sort: query = query.order_by(*sort) pagination = query.paginate(page=page_index + 1, per_page=page_size, error_out=False) items = pagination.items total = pagination.total return jsonify({ \"content\": [item.to_dict() for item in items], \"page_index\": page_index + 1, \"page_size\": page_size, \"total\": total })", "answer": "public Result<List<T>> getEntitys(AbstractPager page) { Sort sort = null; if (StringUtils.hasText(page.getPageOrder())) { sort = Sort.by( Direction.fromOptionalString(page.getPageDirection()).orElse(Direction.ASC), page.getPageOrder().split(\",\") ); } PageRequest pageRequest = PageRequest.of(page.getPageIndex() - 1, page.getPageSize(), sort); Page<T> result = baseRepository.findAll(pageRequest); return null == result ? Result.page(null, page.getPageIndex(), page.getPageSize(), 0) : Result.page(result.getContent(), page.getPageIndex(), page.getPageSize(), result.getTotalElements()); }"}
{"question": "def get_entities(pageable): query = MyModel.query page_number = pageable.page_number page_size = pageable.page_size pagination = query.paginate(page=page_number + 1, per_page=page_size, error_out=False) items = pagination.items total = pagination.total return jsonify({ \"content\": [item.to_dict() for item in items] if items else None, \"page_number\": page_number, \"page_size\": page_size, \"total\": total })", "answer": "public Result<List<T>> getEntitys(Pageable pageable) { Page<T> result = baseRepository.findAll(pageable); return null == result ? Result.page(null, pageable.getPageNumber(), pageable.getPageSize(), 0) : Result.page( result.getContent(), pageable.getPageNumber(), pageable.getPageSize(), result.getTotalElements() ); }"}
{"question": "def get_entities(specification, pageable): query = MyModel.query if specification: query = query.filter(specification(MyModel)) page_number = pageable.page_number page_size = pageable.page_size pagination = query.paginate(page=page_number + 1, per_page=page_size, error_out=False) items = pagination.items total = pagination.total return jsonify({ \"content\": [item.to_dict() for item in items] if items else None, \"page_number\": page_number, \"page_size\": page_size, \"total\": total })", "answer": "public Result<List<T>> getEntitys(Specification<T> specification, Pageable pageable) { Page<T> result = baseRepository.findAll(specification, pageable); return null == result ? Result.page(null, pageable.getPageNumber(), pageable.getPageSize(), 0) : Result.page( result.getContent(), pageable.getPageNumber(), pageable.getPageSize(), result.getTotalElements() ); }"}
{"question": "def get_tree(maps): if not maps: return for map_item in maps: child_num = map_item.get(\"childNum\") if child_num is not None and int(child_num) > 0: childs = get_tree_by_id(str(map_item.get(\"treeId\")), True) get_tree(childs) map_item[\"children\"] = childs", "answer": "private void getTree(List<Map<String, Object>> maps) { if (null == maps || maps.isEmpty()) { return; } for (Map<String, Object> map : maps) { if (Objects.nonNull(map.get(\"childNum\")) && Integer.parseInt(map.get(\"childNum\").toString()) > 0) { List<Map<String, Object>> childs = getTree((ID) (map.get(\"treeId\").toString()), true); getTree(childs); map.put(\"children\", childs); } } }"}
{"question": "def has_value(session: Session, model_class, column_name: str, value) -> bool: column = getattr(model_class, column_name) count = session.query(func.count()).filter(column == value).scalar() return count > 0", "answer": "public boolean hasValue(String column, Object value) { Specification<T> spec = new Specification<T>() { private static final long serialVersionUID = 1L; @Override public Predicate toPredicate(Root<T> root, CriteriaQuery<?> query, CriteriaBuilder criteriaBuilder) { return criteriaBuilder.equal(root.get(column), value); } }; return baseRepository.count(spec) > 0; }"}
{"question": "class CreateIdentify: def __init__(self): pass def generate(self): \"\"\" 返回当前时间戳作为唯一 ID \"\"\" return int(time.time() * 1000)", "answer": "public class CreateIdentify implements IdentifierGenerator { public CreateIdentify() { } @Override public Serializable generate(SharedSessionContractImplementor session, Object object) throws HibernateException { return System.currentTimeMillis(); } }"}
{"question": "class UserTypeConverter(TypeDecorator): impl = String def process_bind_param(self, value, dialect): if value is None: return None return str(value) def process_result_value(self, value, dialect): if value is None: return None return UserType(value)", "answer": "public class UserTypeConverter implements AttributeConverter<UserType, String> { @Override public String convertToDatabaseColumn(UserType attribute) { return null; } @Override public UserType convertToEntityAttribute(String dbData) { return null; } }"}
{"question": "Base = declarative_base() user_role = Table( 'user_role', Base.metadata, Column('user_id', Integer, ForeignKey('user.id')), Column('role_id', Integer, ForeignKey('role.role_id')) ) class Role(Base): __tablename__ = 'role' role_id = Column(Integer, primary_key=True, autoincrement=True) role_name = Column(String(255)) users = relationship(\"User\", secondary=user_role, back_populates=\"roles\")", "answer": "public class Role { @Id @GeneratedValue(strategy = GenerationType.IDENTITY) @Column(name = \"role_id\") private Long roleId; @Column(name = \"role_name\") private String roleName; @ManyToMany(mappedBy = \"roles\") private Set<User> users; }"}
{"question": "Base = declarative_base() class Userinfo(Base): __tablename__ = 'userinfo' user_id = Column(Integer, primary_key=True) qq = Column(String(255)) weixin = Column(String(255)) user = relationship(\"User\", back_populates=\"userinfo\", uselist=False)", "answer": "public class Userinfo { @Id private Long userId; @Column private String qq; @Column private String weixin; @OneToOne(mappedBy = \"userinfo\") private User user; }"}
