{"question": "pi = 3.14 rad = float(input(\"请输入圆的半径: \")) area = pi * rad * rad # 1 token print(\"圆的面积 =\", area)", "answer": "public class CircleArea { public static void main(String args[]) { Scanner reader = new Scanner(System.in); double pi= 3.14; double rad = reader.nextInt(); double area = pi * rad * rad; System.out.println(\"Area of circle= \" + area); } }"}
{"question": "a = int(input(\"请输入整数 a 的值: \")) b = int(input(\"请输入整数 b 的值: \")) pro = a * b print(\"a * b 的结果是:\", pro)", "answer": "public class Product { public static void main(String args[]){ Scanner sc = new Scanner(System.in); System.out.print(\"Enter the value of int a: \"); int a= sc.nextInt(); System.out.print(\"Enter the value of int b: \"); int b= sc.nextInt(); int pro = a*b; System.out.println(\"The value of a*b is:\" + pro); } }"}
{"question": "val_a = int(input(\"请输入整数 a 的值: \")) val_b = int(input(\"请输入整数 b 的值: \")) sum_val = val_a + val_b print(\"a 和 b 的和 =\", sum_val)", "answer": "public class TwoNumberAdder { public static void main(String args[]) { Scanner sc = new Scanner(System.in); System.out.println(\"Enter the value of int a:\"); int val_a = sc.nextInt(); System.out.println(\"Enter the value of int B:\"); int val_b = sc.nextInt(); int sum_val = val_a + val_b; System.out.println(\"Value of a and b= \" + sum_val); } }"}
{"question": "class Container: def __init__(self, cap): self.values = [None] * cap self.count = 0", "answer": "public Container(int cap) { values = (E[]) new Object[cap]; count = 0; }"}
{"question": "class Container: def __init__(self, cap): self.values = [None] * cap self.count = 0 def expand(self, new_cap): new_vals = [None] * new_cap for i in range(self.count): new_vals[i] = self.values[i] self.values = new_vals def insert(self, idx, elem): if idx < 0 or idx > self.count: raise ValueError(\"Add failed. Require 0 <= index <= size.\") if self.count == len(self.values): self.expand(2 * len(self.values)) for i in range(self.count - 1, idx - 1, -1): self.values[i + 1] = self.values[i] self.values[idx] = elem self.count += 1", "answer": "public void insert(int idx, E elem) { if (idx < 0 || idx > count) throw new IllegalArgumentException(\"Add failed. Require index >= 0 and index <= size.\"); if (count == values.length) expand(2 * values.length); for (int i = count - 1; i >= idx; i--) values[i + 1] = values[i]; values[idx] = elem; count++; }"}
{"question": "def obtain(self, pos): if pos < 0 or pos >= self.length: raise ValueError(\"Get failed. Index is illegal.\") return self.storage[pos]", "answer": "public E obtain(int pos) { if (pos < 0 || pos >= length) throw new IllegalArgumentException(\"Get failed. Index is illegal.\"); return storage[pos]; }"}
{"question": "def includes(self, elem): for i in range(self.count): if self.values[i] == elem: return True return False", "answer": "public boolean includes(E elem) { for (int i = 0; i < count; i++) { if (values[i].equals(elem)) return true; } return false; }"}
{"question": "def locate(self, elem): for i in range(self.count): if self.values[i] == elem: return i return -1", "answer": "public int locate(E elem) { for (int i = 0; i < count; i++) { if (values[i].equals(elem)) return i; } return -1; }"}
{"question": "def __repr__(self): parts = [] parts.append(f\"Queue: size = {self.count} , capacity = {self.get_cap()}\\n\") parts.append(\"front [\") idx = self.front while idx != self.tail: parts.append(str(self.values[idx])) idx = (idx + 1) % len(self.values) if idx != self.tail: parts.append(\", \") parts.append(\"] tail\") return \"\".join(parts)", "answer": "public String toText() { StringBuilder sb = new StringBuilder(); sb.append(String.format(\"Queue: size = %d , capacity = %d\\n\", count, getCap())); sb.append(\"front [\"); for (int idx = front; idx != tail; idx = (idx + 1) % values.length) { sb.append(values[idx]); if ((idx + 1) % values.length != tail) sb.append(\", \"); } sb.append(\"] tail\"); return sb.toString(); }"}
{"question": "def resize(self, new_capacity): new_data = [None] * (new_capacity + 1) for i in range(self.size): new_data[i] = self.data[(i + self.front) % len(self.data)] self.data = new_data self.front = 0 self.tail = self.size", "answer": "private void resize(int newCapacity) { E[] newData = (E[]) new Object[newCapacity + 1]; for (int i = 0; i < size; i++) newData[i] = data[(i + front) % data.length]; data = newData; front = 0; tail = size; }"}
{"question": "def free(): process = psutil.Process(os.getpid()) print(psutil.virtual_memory().available) print(psutil.virtual_memory().total)", "answer": "public class Application { public static void free() { Runtime runtime = Runtime.getRuntime(); System.out.println(runtime.freeMemory()); System.out.println(runtime.totalMemory()); } }"}
{"question": "def traverse_inorder(root): if root is not None: traverse_inorder(root.left) print(root.val, end=\" \") traverse_inorder(root.right)", "answer": "public static void traverseInorder(Node root) { if (root != null) { traverseInorder(root.left); System.out.print(root.val + \" \"); traverseInorder(root.right); } }"}
{"question": "class BinaryTree: def __init__(self, val): self.val = val self.left = None self.right = None def insert(self, node, elem): if elem < node.val: if node.left is None: node.left = BinaryTree(elem) else: self.insert(node.left, elem) else: if node.right is None: node.right = BinaryTree(elem) else: self.insert(node.right, elem) def traverse_inorder(root): if root is not None: traverse_inorder(root.left) print(root.val, end=\" \") traverse_inorder(root.right) if __name__ == \"__main__\": vals = [3, 14, 7, 1, 1, 8] tree = BinaryTree(vals[0]) for elem in vals[1:]: tree.insert(tree, elem) print(\"中序遍历\") traverse_inorder(tree)", "answer": "public static void main(String[] args) { int[] vals = { 3, 14, 7, 1, 1, 8 }; BinaryTree tree = new BinaryTree(vals[0]); for (int i = 1; i < vals.length; i++) { tree.insert(tree, vals[i]); } System.out.println(\"中序遍历\"); traverseInorder(tree); }"}
{"question": "class Config: LOG_INFO = \"!!!==== {}\" LOG_WARN = \"@@@===={}\" LOG_ERROR = \"###===={}\" USER_STATUS = 1 class Cache: TOKEN_IDEMPOTENT = \"token_idempotent\" TOKEN_LOGIN = \"token_login\" TOKEN_PREFIX = \"token_\"", "answer": "public interface Config { String LOG_INFO = \"!!!==== {}\"; String LOG_WARN = \"@@@===={}\"; String LOG_ERROR = \"###===={}\"; Integer USER_STATUS = 1; interface Cache { String TOKEN_IDEMPOTENT = \"token_idempotent\"; String TOKEN_LOGIN = \"token_login\"; String TOKEN_PREFIX = \"token_\"; } }"}
{"question": "def key_maker(): def make(target, method, *params): keys = [] keys.append(target.__class__.__name__) keys.append(method.__name__) for param in params: keys.append(str(param)) return \"_\".join(keys) return make", "answer": "public KeyMaker keyMaker() { return new KeyMaker() { @Override public Object make(Object target, Method method, Object... params) { List<String> keys = new ArrayList<>(); keys.add(target.getClass().getName()); keys.add(method.getName()); for (Object obj : params) { keys.add(obj.toString()); } return String.join(\"_\", keys); } }; }"}
{"question": "from enum import Enum class DayEnum(Enum): MONDAY = (\"MONDAY\", None) TUESDAY = (\"TUESDAY\", None) MONDAY_CN = (\"MONDAY_CN\", \"星期一\") TUESDAY_CN = (\"TUESDAY_CN\", \"星期二\") def __init__(self, key, label): self._key = key self.label = label def __str__(self): return self.label if self.label else self._key def get_label(self): return self.label @staticmethod def show_static(): print(\"static\")", "answer": "public enum DayEnum { MONDAY, TUESDAY, MONDAY_CN(\"星期一\"), TUESDAY_CN(\"星期二\"); private String label; private DayEnum() {} private DayEnum(String label) { this.label = label; } @Override public String toString() { return label; } public String getLabel() { return label; } public static void showStatic() { System.out.println(\"static\"); } }"}
{"question": "class IParent: wealth = 500000 @staticmethod def display(): print(\"iparent static func\") def show(self): print(\"iparent default name1\")", "answer": "public interface IParent { int wealth = 500000; static void display() { System.out.println(\"iparent static func\"); } default void show() { System.out.println(\"iparent default name1\"); } }"}
{"question": "class ISon(IParent): richer = 50 @staticmethod def name(): print(\"ison static func\") def name1(self): print(\"ison default name1\")", "answer": "public class ISon implements IParent { int richer = 50; public static void name() { System.out.println(\"ison static func\"); } @Override public void name1() { System.out.println(\"ison default name1\"); } }"}
{"question": "class ParentA: kids = 10 def __init__(self): self.wealth = 500000 self.show() self.wealth = 1000000 def show(self): print(f\"parent1.richer: {self.wealth}\") @staticmethod def display(): print(\"parent1\")", "answer": "public class ParentA { public int wealth = 500000; public static int kids = 10; public ParentA() { this.show(); wealth = 1000000; } public void show() { System.out.println(\"parent1.richer:\" + wealth); } public static void display() { System.out.println(\"parent1\"); } }"}
{"question": "class SonA(ParentA): kids = 1 def __init__(self): super().__init__() self.wealth = 500 self.show() self.wealth = 5000 def show(self): print(f\"son1.richer: {self.wealth}\") @staticmethod def display(): print(\"son1\")", "answer": "public class SonA extends ParentA { public int wealth = 500; public static int kids = 1; public SonA() { this.show(); wealth = 5000; } @Override public void show() { System.out.println(\"son1.richer:\" + wealth); } public static void display() { System.out.println(\"son1\"); } }"}
{"question": "def get_url1(url): try: response = requests.get(url) response.raise_for_status() node = response.json() return node except requests.exceptions.RequestException as e: print(e) return None", "answer": "public static JsonNode getUrl1(String url) { try { httpGet.setUri(URI.create(url)); String response = httpClient.execute(httpGet, httpClientResponseHandler); JsonNode node = mapper.readTree(response); return node; } catch (IOException e) { e.printStackTrace(); } return null; }"}
{"question": "def get_url3(url): try: response = requests.get(url) json_object = response.json() return json_object except requests.exceptions.RequestException as e: print(e) return None", "answer": "public static JSONObject getUrl3(String url) { try { httpGet.setUri(URI.create(url)); String response = httpClient.execute(httpGet, httpClientResponseHandler); JSONObject jsonObject = JSONObject.parseObject(response); return jsonObject; } catch (IOException e) { e.printStackTrace(); } return null; }"}
{"question": "def bench(): return 1 if __name__ == \"__main__\": warmup_count = 5 measure_count = 5 for _ in range(warmup_count): bench() total = timeit.timeit(\"bench()\", globals=globals(), number=measure_count) print(f\"Total time for {measure_count} iterations: {total:.6f} seconds\") print(f\"Average time per iteration: {total / measure_count:.6f} seconds\")", "answer": "public class Bench { @Benchmark @Warmup(iterations = 1, time = 3) @Fork(5) @BenchmarkMode(Mode.Throughput) @Measurement(iterations = 10, time = 3) public int run() { return 1; } public static void main(String[] args) { Options config = new OptionsBuilder() .include(Bench.class.getSimpleName()) .forks(1) .warmupIterations(5) .measurementIterations(5) .build(); try { new Runner(config).run(); } catch (RunnerException err) { err.printStackTrace(); } } }"}
{"question": "def sum(x, y): hrs = 24 ms = hrs * 60 * 60 * 1000 ns = hrs * 60 * 60 * 1000 * 1000 print(ns & 0xFFFFFFFF) print(ns // ms) return 1 + 1", "answer": "public static int sum(int x, int y) { int hrs = 24; long ms = hrs * 60 * 60 * 1000; long ns = hrs * 60 * 60 * 1000 * 1000; System.out.println((int) ns); System.out.println(ns / ms); return 1 + 1; }"}
{"question": "def show1(): a = 10 b = a / 0.0 print(b) c = 10.0 d = c / 0.0 print(d)", "answer": "public static void show1() { int a = 10; double b = a / 0.0; System.out.println(b); double c = 10.0; double d = c / 0.0; System.out.println(d); }"}
{"question": "def demo2(): x = 10 y = x x += 1 p = 20 p += 1 q = p print(y + q)", "answer": "public static void demo2() { int x = 10; int y = x++; int p = 20; int q = ++p; System.out.println(y + q); }"}
{"question": "def start(): data = None for idx in range(20): data = bytearray(1 * 1024 * 1024) print(data) if __name__ == \"__main__\": start()", "answer": "public class MyGCTest { public static void main(String[] args) { byte[] data = null; for (int idx = 0; idx < 20; idx++) { data = new byte[1 * 1024 * 1024]; } System.out.println(data); } }"}
{"question": "MB_SIZE = 1024 * 1024 def start(): data = bytearray(7 * MB_SIZE) print(data) if __name__ == \"__main__\": start()", "answer": "public class MyOldGen01 { public static final int MB_SIZE = 1024 * 1024; public static void main(String[] args) { byte[] data = new byte[7 * MB_SIZE]; System.out.println(data); } }"}
{"question": "MB_SIZE = 1024 * 1024 def start(): data1 = bytearray(1 * MB_SIZE) for idx in range(1): data2 = bytearray(2 * MB_SIZE) print(data2) print(data1) if __name__ == \"__main__\": start()", "answer": "public class MyOldGen02 { public static final int MB_SIZE = 1024 * 1024; public static void main(String[] args) { byte[] data1 = new byte[1 * MB_SIZE]; for (int idx = 0; idx < 1; idx++) { byte[] data2 = new byte[2 * MB_SIZE]; System.out.println(data2); } System.out.println(data1); } }"}
{"question": "def transform_local_file(file_path, ext): with open(file_path, \"rb\") as in_stream: return convert_stream_data(in_stream, ext)", "answer": "public static InputStream transformLocalFile(String filePath, String ext) throws Exception { File srcFile = new File(filePath); InputStream inStream = new FileInputStream(srcFile); return convertStreamData(inStream, ext); }"}
{"question": "def fetch_net_file(web_file_url, ext): resp = requests.get(web_file_url, stream=True) if resp.status_code == 200: return convert_stream_data(resp.raw, ext) return None", "answer": "public static InputStream fetchNetFile(String webFileUrl, String ext) throws Exception { URL webUrl = new URL(webFileUrl); URLConnection conn = webUrl.openConnection(); conn.connect(); HttpURLConnection httpConn = (HttpURLConnection) conn; int respCode = httpConn.getResponseCode(); if (respCode == HttpURLConnection.HTTP_OK) { InputStream inStream = conn.getInputStream(); return convertStreamData(inStream, ext); } return null; }"}
{"question": "def convert_stream_data(in_stream, ext): buf = BytesIO() conn = openoffice_connect() src_fmt = get_format_by_suffix(ext) dst_fmt = get_format_by_suffix(DEFAULT_SUFFIX) conv = StreamOpenOfficeDocumentConverter(conn) conv.convert(in_stream, src_fmt, buf, dst_fmt) conn.disconnect() buf.seek(0) return buf", "answer": "public static InputStream convertStreamData(InputStream inStream, String ext) throws Exception { ByteArrayOutputStream buf = new ByteArrayOutputStream(); OpenOfficeConnection conn = new SocketOpenOfficeConnection(OPENOFFICE_PORT); conn.connect(); DocumentConverter conv = new StreamOpenOfficeDocumentConverter(conn); DefaultDocumentFormatRegistry fmtReg = new DefaultDocumentFormatRegistry(); DocumentFormat dstFormat = fmtReg.getFormatByFileExtension(DEFAULT_SUFFIX); DocumentFormat srcFormat = fmtReg.getFormatByFileExtension(ext); conv.convert(inStream, srcFormat, buf, dstFormat); conn.disconnect(); return streamConvert(buf); }"}
{"question": "app = Flask(__name__) @app.route('/') def index(): return \"Hello, World!\" def run_app(port): app.run(port=port) if __name__ == \"__main__\": Thread(target=run_app, args=(8080,)).start() Thread(target=run_app, args=(8081,)).start()", "answer": "public class MultiPorts { @Bean public ServletWebServerFactory servletContainer() { TomcatServletWebServerFactory factory = new TomcatServletWebServerFactory(); factory.setPort(8080); Connector additionalConnector = new Connector(\"org.apache.coyote.http11.Http11NioProtocol\"); additionalConnector.setPort(8081); factory.addAdditionalTomcatConnectors(additionalConnector); return factory; } }"}
{"question": "class Bean: def __init__(self): self._name = None def set_name(self, name): self._name = name def get_name(self): return self._name class ProxyBean: def __init__(self, bean): self._bean = bean def set_name(self, name): print(\"Proxy before set_name\") self._bean.set_name(name) print(\"Proxy after set_name\") def get_name(self): print(\"Proxy before get_name\") val = self._bean.get_name() print(\"Proxy after get_name\") return val if __name__ == \"__main__\": bean = Bean() proxy = ProxyBean(bean) proxy.set_name(\"test1111\") print(\"33333333\" + proxy.get_name())", "answer": "public class T_CglibProxy { public static void main(String[] args) { Enhancer enh = new Enhancer(); enh.setSuperclass(Bean.class); T_CglibProxyClient cb = new T_CglibProxyClient(new Bean()); enh.setCallback(cb); Bean obj = (Bean) enh.create(); obj.setName(\"test1111\"); System.out.println(\"33333333\" + obj.getName()); } }"}
{"question": "def exec(): try: udp_sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) udp_sock.bind((\"0.0.0.0\", 12345)) buff_size = 60 * 1024 + 14 while True: data, address = udp_sock.recvfrom(buff_size) item = parse_pkt(data) handle_item(item) except Exception as err: print(err)", "answer": "public void exec() { try { byte[] buff = new byte[60 * 1024 + 14]; DatagramPacket pkt = new DatagramPacket(buff, buff.length); while (true) { socket.recv(pkt); FrameUnit item = parsePkt(pkt); handleItem(item); } } catch (Exception err) { err.printStackTrace(); } }"}
{"question": "def process_unit(unit): if not map: map[unit.get_index()] = unit else: old_time = next(iter(map.values())).get_timestamp() curr_time = unit.get_timestamp() if old_time == curr_time: map[unit.get_index()] = unit elif curr_time > old_time: map.clear() map[unit.get_index()] = unit process_frame(True)", "answer": "private void processUnit(FrameUnit unit) { if (map.isEmpty()) { map.put(unit.getIndex(), unit); } else { long oldTime = map.values().iterator().next().getTimestamp(); long currTime = unit.getTimestamp(); if (oldTime == currTime) { map.put(unit.getIndex(), unit); } else if (currTime > oldTime) { map.clear(); map.put(unit.getIndex(), unit); } else { } } processFrame(true); }"}
{"question": "class PupilUI: def __init__(self): pass class ListenerThread(threading.Thread): def __init__(self, gui): super().__init__() self.gui = gui def run(self): pass if __name__ == \"__main__\": gui = PupilUI() listener_thread = ListenerThread(gui) listener_thread.start()", "answer": "public class PupilMain { public static void main(String[] args) { PupilUI gui = new PupilUI(); new ListenerThread(gui).start(); } }"}
{"question": "def on_closing(): root.destroy() root = tk.Tk() root.title(\"学生端\") root.geometry(\"1366x768\") lbl = Label(root) lbl.place(x=0, y=0, width=1366, height=768) root.protocol(\"WM_DELETE_WINDOW\", on_closing) root.mainloop()", "answer": "private void init() { this.setTitle(\"学生端\"); this.setLayout(null); this.setBounds(0, 0, 1366, 768); lbl = new JLabel(); lbl.setBounds(0, 0, 1366, 768); this.add(lbl); this.addWindowListener(new WindowAdapter() { @Override public void windowClosing(WindowEvent e) { System.exit(-1); } }); }"}
{"question": "def refresh_ui(img_data, label): try: stream = io.BytesIO(img_data) img = Image.open(stream) ico = ImageTk.PhotoImage(img) label.config(image=ico) label.image = ico except Exception as err: print(err)", "answer": "public void refreshUI(byte[] imgData) { try { ByteArrayInputStream stream = new ByteArrayInputStream(imgData); BufferedImage img = ImageIO.read(stream); ImageIcon ico = new ImageIcon(img); label.setIcon(ico); } catch (Exception err) { err.printStackTrace(); } }"}
{"question": "def int2bytearr(i): return [ (i >> 0) & 0xFF, (i >> 8) & 0xFF, (i >> 16) & 0xFF, (i >> 24) & 0xFF ]", "answer": "public static byte[] int2ByteArr(int i) { byte[] bytes = new byte[4]; bytes[0] = (byte) (i >> 0); bytes[1] = (byte) (i >> 8); bytes[2] = (byte) (i >> 16); bytes[3] = (byte) (i >> 24); return bytes; }"}
{"question": "def bytes_to_long(buf): return ((buf[0] & 0xFF) << 0) | \\ ((buf[1] & 0xFF) << 8) | \\ ((buf[2] & 0xFF) << 16) | \\ ((buf[3] & 0xFF) << 24) | \\ ((buf[4] & 0xFF) << 32) | \\ ((buf[5] & 0xFF) << 40) | \\ ((buf[6] & 0xFF) << 48) | \\ ((buf[7] & 0xFF) << 56)", "answer": "public static long bytesToLong(byte[] buf) { return ((buf[0] & 0xFFL) << 0) | ((buf[1] & 0xFFL) << 8) | ((buf[2] & 0xFFL) << 16) | ((buf[3] & 0xFFL) << 24) | ((buf[4] & 0xFFL) << 32) | ((buf[5] & 0xFFL) << 40) | ((buf[6] & 0xFFL) << 48) | ((buf[7] & 0xFFL) << 56); }"}
{"question": "class DataUnit: def __init__(self, time=0, number=0, position=0, size=0, content=None): self.time = time self.number = number self.position = position self.size = size self.content = content if content is not None else b''", "answer": "public class DataUnit { private long time; private int number; private int position; private int size; private byte[] content; }"}
{"question": "class Message(ABC): SERVER_TO_CLIENT_REFRESHFRIENDLIST = 1 SERVER_TO_CLIENT_CHATS = 2 SERVER_TO_CLIENT_CHAT = 3 CLIENT_TO_SERVER_REFRESHFRIENDLIST = 4 CLIENT_TO_SERVER_CHATS = 5 CLIENT_TO_SERVER_CHAT = 6 @abstractmethod def get_message_type(self): pass", "answer": "public abstract class Message { public static final int SERVER_TO_CLIENT_REFRESHFRIENDLIST = 1; public static final int SERVER_TO_CLIENT_CHATS = 2; public static final int SERVER_TO_CLIENT_CHAT = 3; public static final int CLIENT_TO_SERVER_REFRESHFRIENDLIST = 4; public static final int CLIENT_TO_SERVER_CHATS = 5; public static final int CLIENT_TO_SERVER_CHAT = 6; public abstract int getMessageType(); }"}
{"question": "class QQUtil: @staticmethod def get_remote_address_string(sock: socket.socket) -> str: ip = sock.getpeername()[0] port = sock.getpeername()[1] return f\"{ip}:{port}\" @staticmethod def get_remote_address_bytes(sock: socket.socket) -> bytes: return QQUtil.get_remote_address_string(sock).encode()", "answer": "public class QQUtil { public static String getRemoteAddressString(Socket sock) { String ip = sock.getInetAddress().getHostAddress(); int port = sock.getPort(); return ip + \":\" + port; } public static byte[] getRemoteAddressBytes(Socket sock) { return getRemoteAddressString(sock).getBytes(); } }"}
{"question": "class ServerConversationsMessage(Message): def __init__(self, source_address: str = \"\", conversation_data: bytes = b\"\"): self.source_address = source_address self.conversation_data = conversation_data def get_message_type(self) -> int: return Message.SERVER_TO_CLIENT_CHATS", "answer": "public class ServerConversationsMessage extends Message { private String sourceAddress; private byte[] conversationData; @Override public int getMessageType() { return SERVER_TO_CLIENT_CHATS; } }"}
{"question": "class ServerUpdateFriendsMessage(Message): def get_message_type(self) -> int: return Message.SERVER_TO_CLIENT_REFRESHFRIENDLIST", "answer": "public class ServerUpdateFriendsMessage extends Message { @Override public int getMessageType() { return SERVER_TO_CLIENT_REFRESHFRIENDLIST; } }"}
{"question": "logger = logging.getLogger(__name__) redis_conn = redis.Redis() class ScheduledTask: def __init__(self, task_name, schedule_time): self.task_name = task_name self.schedule_time = schedule_time def get_bucket_name() -> str: return \"delay_queue_bucket\" def schedule_delayed_task(task: ScheduledTask): logger.info(f\"添加延迟任务: {json.dumps(task.__dict__)}\") bucket = get_bucket_name() redis_conn.zadd(bucket, {json.dumps(task.__dict__): task.schedule_time.timestamp()})", "answer": "public void scheduleDelayedTask(ScheduledTask task) { logger.info(\"添加延迟任务:{}\", JSON.toJSONString(task)); String bucket = getBucketName(); BoundZSetOperations<Object, Object> zset = getBucket(bucket); zset.add(task, task.getScheduleTime()); }"}
{"question": "r = redis.Redis() bucket_names = [\"delay_queue_bucket_0\", \"delay_queue_bucket_1\"] class DelayJob: def __init__(self, name, delay_date): self.name = name self.delay_date = delay_date def get_bucket(name: str): return name def get_first_delay_time(index: int) -> Optional[DelayJob]: name = bucket_names[index] bucket = get_bucket(name) items = r.zrange(bucket, 0, 0, withscores=True) if not items: return None value, score = items[0] try: data = json.loads(value) return DelayJob(data[\"name\"], data[\"delay_date\"]) except Exception: return None", "answer": "public DelayJob getFirstDelayTime(Integer index) { String name = bucketNames.get(index); BoundZSetOperations<Object, Object> bucket = getBucket(name); Set<TypedTuple<Object>> set = bucket.rangeWithScores(0, 1); if (CollectionUtils.isEmpty(set)) { return null; } TypedTuple<Object> typedTuple = set.stream().findFirst().get(); Object value = typedTuple.getValue(); if (value instanceof DelayJob) { return (DelayJob) value; } return null; }"}
{"question": "def delete_task_time(idx: int, task): bucket = task_buckets[idx] zset = get_bucket(bucket) zset.remove(task)", "answer": "public void deleteTaskTime(Integer idx, ScheduledTask task) { String bucket = taskBuckets.get(idx); BoundZSetOperations<Object, Object> zset = getBucket(bucket); zset.remove(task); }"}
{"question": "def on_application_event(self, context_refreshed_event): executor_service = ThreadPoolExecutor( max_workers=self.length ) for i in range(self.length): executor_service.submit(DelayJobHandler(self.delayBucket, self.jobPool, self.readyQueue, i))", "answer": "public void onApplicationEvent(ContextRefreshedEvent contextRefreshedEvent) { ExecutorService executorService = new ThreadPoolExecutor( length, length, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue<Runnable>() ); for (int i = 0; i < length; i++) { executorService.execute(new DelayJobHandler(delayBucket, jobPool, readyQueue, i)); } }"}
{"question": "log = logging.getLogger(__name__) conn = redis.Redis(host='localhost', port=6379, db=0) def fetch_queue(subject): return subject def add_task_to_queue(delay_task): log.info(\"执行队列添加任务: %s\", delay_task) queue_id = fetch_queue(delay_task['subject']) conn.lpush(queue_id, pickle.dumps(delay_task))", "answer": "public void addTask(DelayTask delayTask) { logger.info(\"执行队列添加任务:{}\", delayTask); BoundListOperations<Object, Object> queueOps = fetchQueue(delayTask.getSubject()); queueOps.leftPush(delayTask); }"}
{"question": "log = logging.getLogger(__name__) conn = redis.Redis(host='localhost', port=6379, db=0) def fetch_queue(subject): return subject def fetch_task(subject): queue_id = fetch_queue(subject) item = conn.lpop(queue_id) if item is not None: delay_task = pickle.loads(item) log.info(\"执行队列取出任务: %s\", delay_task) return delay_task return None", "answer": "public DelayTask fetchTask(String subject) { BoundListOperations<Object, Object> queueOps = fetchQueue(subject); Object obj = queueOps.leftPop(); if (obj instanceof DelayTask) { logger.info(\"执行队列取出任务:{}\", JSON.toJSONString((DelayTask) obj)); return (DelayTask) obj; } return null; }"}
{"question": "def redis_filter_demo(): bloom_f = BloomFilter(capacity=10000) bloom_f = BloomFilter(capacity=10000, error_rate=0.01) bloom_f.add(11) print(112 in bloom_f) redis_filter_demo()", "answer": "public class RedisFilterDemo { public void demo() { BloomFilter<Integer> bloomF = BloomFilter.create(Funnels.integerFunnel(), 10000); BloomFilter.create(Funnels.integerFunnel(), 10000, 0.01); bloomF.put(11); System.out.println(bloomF.mightContain(112)); } }"}
{"question": "LUA_DEL = \"\"\" if redis.call('get', KEYS[1]) == ARGV[1] then return redis.call('del', KEYS[1]) else return 0 end \"\"\" LUA_SETNX = \"\"\" if redis.call('setnx', KEYS[1], ARGV[1]) == 1 then redis.call('pexpire', KEYS[1], ARGV[2]) return 1 else return 0 end \"\"\" LUA_RENEW = \"\"\" if redis.call('get', KEYS[1]) == ARGV[1] then redis.call('pexpire', KEYS[1], ARGV[2]) return 1 else return 0 end \"\"\"", "answer": "public interface LuaScripts { String LUA_DEL = \"if redis.call('get',KEYS[1]) == ARGV[1] then return redis.call('del',KEYS[1]) else return 0 end\"; String LUA_SETNX = \"if redis.call('setnx',KEYS[1],ARGV[1]) == 1 then redis.call('pexpire',KEYS[1],ARGV[2]) return 1 else return 0 end\"; String LUA_RENEW = \"if redis.call('get',KEYS[1]) == ARGV[1] then redis.call('pexpire',KEYS[1],ARGV[2]) return 1 else return 0 end \"; }"}
{"question": "def fetch_job(job_key): obj = get_cache().get(job_key) if isinstance(obj, WorkJob): return obj return None", "answer": "public WorkJob fetchJob(Long jobKey) { Object obj = getCache().get(jobKey); if (obj instanceof WorkJob) { return (WorkJob) obj; } return null; }"}
{"question": "class WorkTaskState(Enum): AVAILABLE = \"可执行状态\" PENDING = \"不可执行状态，等待时钟周期\" PROCESSING = \"已被消费者读取,但没有完成消费\" COMPLETED = \"已被消费完成或者已被删除\"", "answer": "public enum WorkTaskState { AVAILABLE(\"可执行状态\"), PENDING(\"不可执行状态，等待时钟周期\"), PROCESSING(\"已被消费者读取,但没有完成消费\"), COMPLETED(\"已被消费完成或者已被删除\"); private String desc; private WorkTaskState(String desc) { this.desc = desc; } }"}
{"question": "def showdown3(): pid_file = \"/app/app.pid\" process = subprocess.Popen([\"java\", \"-jar\", \"MyShutDown.jar\"]) with open(pid_file, \"w\") as f: f.write(str(process.pid)) process.wait()", "answer": "public void showdown3() { SpringApplication application = new SpringApplication(MyShutDown.class); application.addListeners(new ApplicationPidFileWriter(\"/app/app.pid\")); application.run(); }"}
{"question": "class SpiLoaderDemo: @staticmethod def run(): for ep in pkg_resources.iter_entry_points('spi_impls'): impl_class = ep.load() impl_instance = impl_class() print(f\"{impl_instance.get_name()} 准备执行\") impl_instance.handle() print(\"执行结束\")", "answer": "public class SpiLoaderDemo { public static void run(String[] args) { ServiceLoader<SpiInterface> loader = ServiceLoader.load(SpiInterface.class); Iterator<SpiInterface> it = loader.iterator(); while (it.hasNext()) { SpiInterface impl = it.next(); System.out.println(impl.getName() + \" 准备执行\"); impl.handle(); } System.out.println(\"执行结束\"); } }"}
{"question": "class MySvcImpl: def get_key(self): return \"One\" def run(self): print(f\"{self.get_key()}执行\")", "answer": "public class MySvcImpl implements MySvc { @Override public String getKey() { return \"One\"; } @Override public void run() { System.out.println(getKey() + \"执行\"); } }"}
{"question": "class Application: @staticmethod def main(args=None): if args is None: args = [] subprocess.run([\"java\", \"-jar\", \"Application.jar\"] + args) @staticmethod def free(): process = psutil.Process(os.getpid()) print(psutil.virtual_memory().available) print(psutil.virtual_memory().total)", "answer": "public class Application { public static void main(String[] args) { SpringApplication.run(Application.class, args); } public static void free() { Runtime runtime = Runtime.getRuntime(); System.out.println(runtime.freeMemory()); System.out.println(runtime.totalMemory()); } }"}
{"question": "class ExtendAdapter(TFCardImpl, SDAdapter): def fetch(self) -> str: print(\"adapter read tf card\") return self.fetch_tf() def store(self, data: str): print(\"adapter write tf card\") self.store_tf(data)", "answer": "public class ExtendAdapter extends TFCardImpl implements SDAdapter { @Override public String fetch() { System.out.println(\"adapter read tf card \"); return fetchTF(); } @Override public void store(String data) { System.out.println(\"adapter write tf card\"); storeTF(data); } }"}
{"question": "class AdapterObject(SDCard): def __init__(self, tf_card: TFCard): self.tf_card = tf_card def read(self) -> str: print(\"adapter read tf card\") return self.tf_card.read_tf() def write(self, msg: str): print(\"adapter write tf card\") self.tf_card.write_tf(msg)", "answer": "public class AdapterObject implements SDCard { private TFCard tfCard; public AdapterObject(TFCard tfCard) { this.tfCard = tfCard; } @Override public String read() { System.out.println(\"adapter read tf card \"); return this.tfCard.readTF(); } @Override public void write(String msg) { System.out.println(\"adapter write tf card\"); this.tfCard.writeTF(msg); } }"}
{"question": "def main(): context = Computer() sd_card = SDCardImpl() print(context.read(sd_card)) print(\"------------\") adapter = AdapterExtend() print(context.read(adapter)) print(\"------------\") tf_card = TFCardImpl() adapter_object = AdapterObject(tf_card) print(context.read(adapter_object)) if __name__ == \"__main__\": main()", "answer": "public static void main(String[] args) { Computer context = new Computer(); SDCard sdCard = new SDCardImpl(); System.out.println(context.read(sdCard)); System.out.println(\"------------\"); AdapterExtend adapter = new AdapterExtend(); System.out.println(context.read(adapter)); System.out.println(\"------------\"); TFCard tfCard = new TFCardImpl(); AdapterObject adapterObject = new AdapterObject(tfCard); System.out.println(context.read(adapterObject)); }"}
{"question": "class MemoryCardImpl(StorageCard): def read(self) -> str: return \"SDCard read a msg :hello word SD\" def write(self, data: str): print(f\"SDCard write msg: {data}\")", "answer": "public class MemoryCardImpl implements StorageCard { @Override public String read() { return \"SDCard read a msg :hello word SD\"; } @Override public void write(String data) { System.out.println(\"SDCard write msg:\" + data); } }"}
{"question": "class TFCardImplV2(TFCardV2): def read_tf(self) -> str: data = \"tf card read msg : hello word tf card\" return data def write_tf(self, data: str): print(f\"tf card write a msg : {data}\")", "answer": "public class TFCardImplV2 implements TFCardV2 { @Override public String readTF() { String data = \"tf card read msg : hello word tf card\"; return data; } @Override public void writeTF(String data) { System.out.println(\"tf card write a msg : \" + data); } }"}
{"question": "class AutoPresent(Present): def __init__(self, sender: 'GiftSend'): self.send_service = sender def send(self): self.send_service.cost()", "answer": "public class AutoPresent extends Present { public AutoPresent(GiftSend sender) { this.sendService = sender; } @Override public void send() { this.sendService.cost(); } }"}
{"question": "class PlantGift(Gift): def __init__(self, item: 'GiftSend'): self.gift_item = item def send(self): self.gift_item.cost()", "answer": "public class PlantGift extends Gift { public PlantGift(GiftSend item) { this.giftItem = item; } @Override public void send() { this.giftItem.cost(); } }"}
{"question": "from abc import ABC, abstractmethod class Present(ABC): def __init__(self, send_service: 'GiftSend' = None): self.send_service = send_service def get_send_service(self) -> 'GiftSend': return self.send_service def set_send_service(self, send_service: 'GiftSend'): self.send_service = send_service @abstractmethod def send(self): pass", "answer": "public abstract class Present { GiftSend sendService; public GiftSend getSendService() { return sendService; } public void setSendService(GiftSend sendService) { this.sendService = sendService; } public abstract void send(); }"}
{"question": "class HeavenMaker: def make(self, builder: 'HeavenMaker') -> 'SkyWalkJiuGe': builder.title() builder.writer() builder.folks() return builder.make()", "answer": "public class HeavenMaker { public SkyWalkJiuGe make(HeavenMaker builder) { builder.title(); builder.writer(); builder.folks(); return builder.make(); } }"}
{"question": "class HubeiBuilder(PoemMaker): def __init__(self): self.product = SkySong() def name(self): self.product.set_title(\"天行九歌\") def author(self): self.product.set_author(\"湖北-玄机\") def people(self): self.product.set_persons([\"大叔\", \"二叔\", \"天明\", \"高月\"])", "answer": "public class HubeiBuilder implements PoemMaker { private SkySong product = new SkySong(); @Override public void name() { product.setTitle(\"天行九歌\"); } @Override public void author() { product.setAuthor(\"湖北-玄机\"); } @Override public void people() { product.setPersons(Arrays.asList(\"大叔\", \"二叔\", \"天明\", \"高月\")); } }"}
{"question": "def process_msg(self, msg: 'NeedProcess'): if self.id == msg.get_kind(): self.handle(msg) else: if hasattr(self, 'next') and self.next is not None: self.next.process_msg(msg) else: print(\"什么都没做...\")", "answer": "public final void processMsg(NeedProcess msg) { if (this.id == msg.getKind()) { this.handle(msg); } else { if (this.next != null) { this.next.processMsg(msg); } else { System.out.println(\"什么都没做...\"); } } }"}
{"question": "class RequestKind: def __init__(self): self.kind = 1 def get_kind(self) -> int: return self.kind", "answer": "public class RequestKind { private int kind = 1; public int getKind() { return kind; } }"}
{"question": "class ComicCommand(Command): def __init__(self, youth: 'Youth'): super().__init__(youth) def enjoy(self): self.get_youth().enjoy_comic()", "answer": "public class ComicCommand extends Command { public ComicCommand(Youth youth) { super(youth); } @Override public void enjoy() { this.getYouth().enjoyComic(); } }"}
{"question": "class CommandInvoker: def __init__(self): self.actions: List[Action] = [] def add_action(self, act: 'Action'): self.actions.append(act) def remove_action(self, act: 'Action'): self.actions.remove(act) def execute(self): for act in self.actions: act.run()", "answer": "public class CommandInvoker { private List<Action> actions = new ArrayList<Action>(); public void addAction(Action act) { actions.add(act); } public void removeAction(Action act) { actions.remove(act); } public void execute() { for (Action act : actions) { act.run(); } } }"}
{"question": "class TripCommand(Command): def __init__(self, youth: 'Youth'): super().__init__(youth) def enjoy(self): self.get_youth().enjoy_trip()", "answer": "public class TripCommand extends Command { public TripCommand(Youth youth) { super(youth); } @Override public void enjoy() { this.getYouth().enjoyTrip(); } }"}
{"question": "class YouthPerson: def watch_cartoon(self): print(\"看卡通\") def travel_fun(self): print(\"旅游\")", "answer": "public class YouthPerson { public void watchCartoon() { System.out.println(\"看卡通\"); } public void travelFun() { System.out.println(\"旅游\"); } }"}
{"question": "from abc import ABC class CreatureDecorator(Creature, ABC): def __init__(self, creature: 'Creature'): self.creature = creature", "answer": "public abstract class CreatureDecorator implements Creature { protected Creature creature; public CreatureDecorator(Creature creature) { this.creature = creature; } }"}
{"question": "class LandAnimal(Creature): def run(self): print(\"能跑\") def show(self): self.run()", "answer": "public class LandAnimal implements Creature { @Override public void run() { System.out.println(\"能跑\"); } @Override public void show() { this.run(); } }"}
{"question": "class FlyingCreatureDecorator(CreatureDecorator): def __init__(self, creature: 'Creature'): super().__init__(creature) def show(self): self.creature.show() self.fly() def fly(self): print(\"能飞\")", "answer": "public class FlyingCreatureDecorator extends CreatureDecorator { public FlyingCreatureDecorator(Creature creature) { super(creature); } @Override public void show() { this.creature.show(); this.fly(); } public void fly() { System.out.println(\"能飞\"); } }"}
{"question": "class AquaticCreatureDecorator(CreatureDecorator): def __init__(self, creature: 'Creature'): super().__init__(creature) def show(self): self.creature.show() self.swim() def swim(self): print(\"能游泳\")", "answer": "public class AquaticCreatureDecorator extends CreatureDecorator { public AquaticCreatureDecorator(Creature creature) { super(creature); } @Override public void show() { this.creature.show(); this.swim(); } public void swim() { System.out.println(\"能游泳\"); } }"}
{"question": "def run(): cli = socket.socket(socket.AF_INET, socket.SOCK_STREAM) cli.connect(('localhost', 8889)) text = input() cli.send(text.encode()) resp = cli.recv(1024) print(resp.decode()) cli.close() if __name__ == \"__main__\": run()", "answer": "public static void run(String[] params) { NIOClient cli = new NIOClient(\"localhost\", 8889); Scanner scan = new Scanner(System.in); String text = scan.nextLine(); cli.send(text); cli.recv(); scan.close(); try { cli.conn.close(); } catch (IOException ex) { ex.printStackTrace(); } }"}
{"question": "async def setup(server: str, port_num: int): try: rd, wr = await asyncio.open_connection(server, port_num) return rd, wr except Exception as err: print(err) return None, None", "answer": "private void setup(String server, int portNum) { try { socket = AsynchronousSocketChannel.open(); socket.connect(new InetSocketAddress(server, portNum)); } catch (IOException err) { err.printStackTrace(); } }"}
{"question": "async def send(writer: asyncio.StreamWriter, msg: str): dat = msg.encode('utf-8') writer.write(dat) await writer.drain()", "answer": "public void send(String msg) { ByteBuffer buf = ByteBuffer.allocate(1024); buf.put(msg.getBytes(StandardCharsets.UTF_8)); buf.flip(); chan.write(buf); }"}
{"question": "async def recv(reader: asyncio.StreamReader): try: dat = await reader.read(1024) print(dat.decode('utf-8')) except Exception as ex: print(ex)", "answer": "public void recv() { ByteBuffer buf = ByteBuffer.allocate(1024); try { chan.read(buf).get(); buf.flip(); System.out.println(new String(buf.array(), StandardCharsets.UTF_8)); } catch (InterruptedException | ExecutionException ex) { ex.printStackTrace(); } }"}
{"question": "class Config: INFO_LOG = \"!!!==== {}\" WARN_LOG = \"@@@===={}\" ERROR_LOG = \"###===={}\" USER_FLAG = 1", "answer": "public class Config { public static final String INFO_LOG = \"!!!==== {}\"; public static final String WARN_LOG = \"@@@===={}\"; public static final String ERROR_LOG = \"###===={}\"; public static final Integer USER_FLAG = 1; }"}
{"question": "def update(): try: obj = TModel(**request.json) except ValidationError as ex: err_first = ex.errors()[0] err_field = err_first['loc'][0] err_msg = err_first['msg'] return jsonify({\"error\": f\"{err_field} {err_msg}\"}), 400 res = base_service.update(obj) return jsonify({\"ok\": res})", "answer": "public Result<?> update(@RequestBody @Validated(ValidEdits.class) T obj, BindingResult res) { if (res.hasErrors()) { FieldError err = res.getFieldError(); assert err != null; return Result.error(err.getField() + err.getDefaultMessage()); } return Result.ok(baseService.update(obj)); }"}
{"question": "@app.route('/check_dup', methods=['POST']) def check_dup(): args = request.json if not args: return jsonify({\"error\": \"参数为空\"}), 400 for k, v in args.items(): if k and k.strip(): if base_service.has_value(k, v): return jsonify({\"ok\": f\"{k}字段值重复\", \"code\": 1}) return jsonify({\"ok\": \"无重复值\", \"code\": 0})", "answer": "public Result<?> checkDup(@RequestBody Map<String, Object> args) { if (null == args || args.isEmpty()) { return Result.error(\"参数为空\"); } for (Map.Entry<String, Object> item : args.entrySet()) { if (StringUtils.hasText(item.getKey())) { if (baseService.hasValue(item.getKey(), item.getValue())) { return Result.ok(item.getKey() + \"字段值重复\", 1); } } } return Result.ok(\"无重复值\", 0); }"}
{"question": "@app.route('/delete', methods=['POST']) def delete(): lst = request.json if not lst: return jsonify({\"error\": \"集合数据为空\"}), 400 base_service.del_by_ids(lst) return jsonify({\"ok\": True})", "answer": "public Result<?> delete(@RequestBody List<ID> list) { if (null == list || list.isEmpty()) { return Result.error(\"集合数据为空\"); } baseService.delByIds(list); return Result.ok(); }"}
{"question": "class BaseModel(BasePager): serial_version_uid = 1 def __init__(self): self.created: datetime = None self.updated: datetime = None", "answer": "public class BaseModel extends BasePager { private static final long serialVersionUID = 1L; private Date created; private Date updated; }"}
{"question": "def has_pager(self): if self.page_index is None or self.page_index <= 0: return False if self.page_size is None or self.page_size <= 0: self.page_size = Constants.PAGE_SIZE return True", "answer": "public boolean hasPager() { if (pageIndex == null || pageIndex <= 0) { return false; } if (pageSize == null || pageSize <= 0) { pageSize = Constants.PAGE_SIZE; } return true; }"}
{"question": "T = TypeVar('T') ID = TypeVar('ID') class BaseService(Generic[T, ID]): def __init__(self): base = self.__class__.__orig_bases__[0] types = get_args(base) self.cls_t = types[0] self.cls_id = types[1]", "answer": "public BaseService() { ParameterizedType paramType = (ParameterizedType) getClass().getGenericSuperclass(); Type tType = paramType.getActualTypeArguments()[0]; Type idType = paramType.getActualTypeArguments()[1]; clsT = (Class<T>) tType; clsID = (Class<ID>) idType; }"}
{"question": "def get_entities(page): sort = None if page.page_order and page.page_order.strip(): sort_columns = page.page_order.split(\",\") direction = page.page_direction.upper() if page.page_direction else \"ASC\" sort = [getattr(MyModel, col).asc() if direction == \"ASC\" else getattr(MyModel, col).desc() for col in sort_columns] page_index = max(page.page_index - 1, 0) page_size = page.page_size query = MyModel.query if sort: query = query.order_by(*sort) pagination = query.paginate(page=page_index + 1, per_page=page_size, error_out=False) items = pagination.items total = pagination.total return jsonify({ \"content\": [item.to_dict() for item in items], \"page_index\": page_index + 1, \"page_size\": page_size, \"total\": total })", "answer": "public Result<List<T>> getEntitys(AbstractPager page) { Sort sort = null; if (StringUtils.hasText(page.getPageOrder())) { sort = Sort.by( Direction.fromOptionalString(page.getPageDirection()).orElse(Direction.ASC), page.getPageOrder().split(\",\") ); } PageRequest pageRequest = PageRequest.of(page.getPageIndex() - 1, page.getPageSize(), sort); Page<T> result = baseRepository.findAll(pageRequest); return null == result ? Result.page(null, page.getPageIndex(), page.getPageSize(), 0) : Result.page(result.getContent(), page.getPageIndex(), page.getPageSize(), result.getTotalElements()); }"}
{"question": "def fetch_items(pager): qry = MyModel.query page_no = pager.page_no limit = pager.page_limit paged = qry.paginate(page=page_no + 1, per_page=limit, error_out=False) elements = paged.items count = paged.total return jsonify({ \"content\": [elem.to_dict() for elem in elements] if elements else None, \"page_no\": page_no, \"limit\" : limit, \"total\" : count })", "answer": "public Result<List<T>> fetchItems(Pager pager) { Page<T> data = baseRepo.findAll(pager); return null == data ? Result.page(null, pager.getPageNo(), pager.getPageLimit(), 0) : Result.page( data.getContent(), pager.getPageNo(), pager.getPageLimit(), data.getTotalElements() ); }"}
{"question": "def fetch_data(criteria, pager): qry = MyModel.query if criteria: qry = qry.filter(criteria(MyModel)) page_no = pager.page_no limit = pager.page_limit paged = qry.paginate(page=page_no + 1, per_page=limit, error_out=False) elements = paged.items count = paged.total return jsonify({ \"content\": [elem.to_dict() for elem in elements] if elements else None, \"page_no\": page_no, \"limit\" : limit, \"total\" : count })", "answer": "public Result<List<T>> fetchData(Criteria<T> criteria, Pager pager) { Page<T> data = baseRepo.findAll(criteria, pager); return null == data ? Result.page(null, pager.getPageNo(), pager.getPageLimit(), 0) : Result.page( data.getContent(), pager.getPageNo(), pager.getPageLimit(), data.getTotalElements() ); }"}
{"question": "def build_tree(lst: list[dict]) -> None: if not lst: return for item in lst: child_num = item.get(\"childNum\") if child_num is not None and int(child_num) > 0: children = get_tree_by_id(str(item.get(\"treeId\")), True) build_tree(children) item[\"children\"] = children", "answer": "private void buildTree(List<Map<String, Object>> list) { if (null == list || list.isEmpty()) { return; } for (Map<String, Object> item : list) { if (Objects.nonNull(item.get(\"childNum\")) && Integer.parseInt(item.get(\"childNum\").toString()) > 0) { List<Map<String, Object>> children = getTreeById(item.get(\"treeId\").toString(), true); buildTree(children); item.put(\"children\", children); } } }"}
{"question": "fdef check_value(sess: Session, model_cls, field: str, val) -> bool: col = getattr(model_cls, field) cnt = sess.query(func.count()).filter(col == val).scalar() return cnt > 0", "answer": "public boolean checkValue(String field, Object val) { Specification<T> spec = new Specification<T>() { private static final long serialVersionUID = 1L; @Override public Predicate toPredicate(Root<T> root, CriteriaQuery<?> query, CriteriaBuilder cb) { return cb.equal(root.get(field), val); } }; return baseRepo.count(spec) > 0; }"}
{"question": "class TimeIdGen: def __init__(self): pass def generate(self) -> int: \"\"\" 返回当前时间戳（毫秒）作为唯一 ID \"\"\" return int(time.time() * 1000)", "answer": "public class TimeIdGen implements IdentifierGenerator { public TimeIdGen() { } @Override public Serializable generate(SharedSessionContractImplementor sess, Object obj) throws HibernateException { return System.currentTimeMillis(); } }"}
{"question": "class UserTypeMapper(TypeDecorator): impl = String def process_bind_param(self, value, dialect): return None if value is None else value.value def process_result_value(self, value, dialect): return None if value is None else UserType(value)", "answer": "public class UserTypeMapper implements AttributeConverter<UserType, String> { @Override public String convertToDbColumn(UserType attr) { return attr == null ? null : attr.name(); } @Override public UserType convertFromDbData(String data) { return data == null ? null : UserType.valueOf(data); } }"}
{"question": "Base = declarative_base() user_group = Table( 'user_group', Base.metadata, Column('user_id', Integer, ForeignKey('user.id')), Column('group_id', Integer, ForeignKey('group.group_id')) ) class Group(Base): __tablename__ = 'group' group_id = Column(Integer, primary_key=True, autoincrement=True) group_name = Column(String(255)) members = relationship(\"User\", secondary=user_group, back_populates=\"groups\")", "answer": "public class Group { @Id @GeneratedValue(strategy = GenerationType.IDENTITY) @Column(name = \"group_id\") private Long groupId; @Column(name = \"group_name\") private String groupName; @ManyToMany(mappedBy = \"groups\") private Set<User> members; }"}
{"question": "Base = declarative_base() class UserProfile(Base): __tablename__ = 'userinfo' user_id = Column(Integer, primary_key=True) qq = Column(String(255)) wechat = Column(String(255)) user = relationship(\"User\", back_populates=\"userinfo\", uselist=False)", "answer": "public class UserProfile { @Id private Long userId; @Column private String qq; @Column private String wechat; @OneToOne(mappedBy = \"userinfo\") private User user; }"}
